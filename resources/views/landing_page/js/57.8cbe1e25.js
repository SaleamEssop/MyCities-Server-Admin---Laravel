(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[57],{2057:(l,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>Ql});a(8964);var t=a(9835),s=a(499),n=a(6970),i=a(1957),o=a(7009),c=a.n(o),d=a(9302),u=a(8339),m=a(6144),r=a(7047),p=a(5157),w=a(6190),_=a(4170);const v=l=>((0,t.dD)("data-v-bc4dca2c"),l=l(),(0,t.Cn)(),l),g={class:"container"},f={class:"header"},W=v((()=>(0,t._)("img",{class:"q-px-lg titleIcon",src:c()},null,-1))),y=v((()=>(0,t._)("div",{class:"regionTitle"},"Ethekwini Region",-1))),x={class:"ads_main"},k={class:"text-center"},h={class:"text-center"},b={class:"text-center"},C={class:"text-center"},q={class:"text-center"},U={class:"text-center"},H={class:"row menuContain"},Z={class:"text-center q-pt-xs menuItem"},I={class:"text-center q-pt-xs menuItem"},Q={class:"text-center q-pt-xs menuItem"},A={style:{width:"180px"}},D=(0,t.Uk)("Email"),S=(0,t.Uk)("WhatsApp"),F=(0,t.Uk)("Call"),V=(0,t.Uk)("Email"),z=(0,t.Uk)("WhatsApp"),L=(0,t.Uk)("Call"),B={class:"text-center q-pt-xs menuItem"},M={class:"ads"},j=["innerHTML"],E=["src","onClick"],R={class:"add_description_scroll"},Y={key:0},T=v((()=>(0,t._)("div",{class:"text-h6 text-center"},"Get Latest Notification",-1))),N={class:"q-mt-lg"},P={class:"dueMessage"},K={class:"row no-wrap"},O={class:"col text-subtitle1 q-py-sm"},G={class:"col-auto markAsread q-pl-lg"},$={key:1,class:"text-h6 text-center"},J=v((()=>(0,t._)("div",{class:"text-h6 text-center"}," Enter the number you want to Whatsapp ",-1))),X={class:"q-mt-lg"},ll={class:"ads dialogAds"},el=["src","onClick"],al={class:"add_description_scroll"},tl={class:"btnLightAndWater"},sl=v((()=>(0,t._)("span",{class:"text-h6"},"Logout",-1))),nl=v((()=>(0,t._)("div",{class:"q-mt-sm"},"Are you sure you want to Logout?",-1))),il={__name:"IndexPage",setup(l){const e=(0,u.tv)(),a=(0,m.L)(),o=(0,r.H)(),c=(0,s.iH)(!1),v=(0,s.iH)(!1),il=((0,s.iH)(!1),(0,s.iH)(!1)),ol=(0,s.iH)(!1),cl=(0,s.iH)(!0),dl=(0,s.iH)(""),ul=(0,w.c)(),ml=(0,p.c)(),rl=(0,t.Fl)((()=>ml.getAlarms)),pl=(0,t.Fl)((()=>{var l;let e=!1;return null===(l=ul.accounts[0])||void 0===l||l.defaultFixedCost.map((l=>{var a;if("Enter Your Billing Date"===(null===(a=l.fixed_cost)||void 0===a?void 0:a.title)){const a=_.ZP.formatDate(new Date,"DD");l.value-7<=a&&a<=l.value-5&&(e=!0)}})),e})),wl=(0,s.iH)(null),_l=((0,s.iH)(!0),(0,d.Z)()),vl=((0,s.iH)(""),(0,s.iH)("")),gl=(0,s.iH)(null),fl=(0,t.Fl)((()=>o.getAds)),Wl=l=>{window.open(`https://api.whatsapp.com/send?phone=+27${l}&text=Hello`),dl.value=""},yl=()=>{window.open("https://www.facebook.com/groups/982841062697878")},xl=()=>{window.open("https://www.youtube.com/@mycity3924")},kl=l=>{let e="mailto:"+encodeURI(l);window.open(e,"_blank")},hl=l=>{let e="tel:+27"+encodeURI(l);window.open(e,"_blank")},bl=l=>{let e=rl.value.findIndex((({id:l})=>l==l));l>-1&&rl.value.splice(e,1)},Cl=l=>"www"===l?void 0:(l.match(/^https?:\/\//i)||(l="http://"+l),window.open(l,"_blank")),ql=()=>{if(navigator.share)navigator.share({title:"MyCityApp",url:"https://play.google.com/store/apps/details?id=com.light.water.app"}).then((()=>console.log("Successful share"))).catch((l=>console.log("Error sharing",l)));else{let l="https://play.google.com/store/apps/details?id=com.light.water.app",e="shareto://water.meter.power.meter/?title="+encodeURI("MyCityApp")+"&msg="+encodeURI(l);window.open(e)}},Ul=l=>{var e,a;let t=fl.value.filter((e=>e["name"]===l));wl.value=null===(e=t[0].ads[0])||void 0===e?void 0:e.id,gl.value=null===(a=t[0])||void 0===a?void 0:a.ads},Hl=(0,t.Fl)((()=>{if(null!==gl.value)return gl.value;{var l;let e=fl.value.filter((l=>"Home"===l["name"]));return e.findIndex((({ads:l})=>{var e;wl.value=null===(e=l[0])||void 0===e?void 0:e.id})),null===(l=e[0])||void 0===l?void 0:l.ads}})),Zl=()=>{_l.loading.show(),setTimeout((()=>{_l.loading.hide(),a.signOut(),e.push("/auth/login").then((()=>{_l.notify({message:"Signed out"})})).catch((l=>console.log("error",l))),timer=void 0}),1e3)};(0,s.iH)([{title:"AppartmentMeter 409",icon:"water",type:{title:"Water",id:1}},{title:"AppartmentMeter 410",icon:"water",type:{title:"Water",id:1}}]);function Il(l){e.push({name:l})}return(l,e)=>{const a=(0,t.up)("q-btn"),o=(0,t.up)("q-separator"),d=(0,t.up)("q-item-label"),u=(0,t.up)("q-item-section"),m=(0,t.up)("q-item"),r=(0,t.up)("q-list"),p=(0,t.up)("q-btn-dropdown"),w=(0,t.up)("q-badge"),_=(0,t.up)("q-expansion-item"),ul=(0,t.up)("q-page"),ml=(0,t.up)("q-card-section"),wl=(0,t.up)("q-card-actions"),_l=(0,t.up)("q-card"),gl=(0,t.up)("q-dialog"),Ql=(0,t.up)("q-input"),Al=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(ul,null,{default:(0,t.w5)((()=>[(0,t.Wm)(a,{icon:"settings_power",style:{position:"absolute",right:"10px",top:"10px"},round:"",onClick:e[0]||(e[0]=l=>il.value=!0)}),(0,t._)("div",g,[(0,t._)("div",f,[W,y,(0,t.Wm)(o,{color:"grey q-mt-sm",size:"2px"}),(0,t._)("div",x,[(0,t._)("div",k,[(0,t.Wm)(p,{flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"menu"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(fl),(a=>((0,t.wg)(),(0,t.j4)(r,{key:a.id},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:l.onItemClick},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:vl.value,"onUpdate:modelValue":e[1]||(e[1]=l=>vl.value=l),onClick:l=>Ul(a.name)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(a.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1032,["onClick"])),[[i.F8,"LightsAndWater"!==a.name],[Al]])])),_:2},1024)))),128))])),_:1})]),(0,t._)("div",h,[(0,t.Wm)(a,{onClick:e[2]||(e[2]=l=>c.value=!0),flat:"",icon:"notifications",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{floating:"",color:"red",rounded:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((0,s.SU)(pl)?(0,s.SU)(rl).length+1:(0,s.SU)(rl).length),1)])),_:1})])),_:1})]),(0,t._)("div",b,[(0,t.Wm)(a,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"share",flat:"",onClick:e[3]||(e[3]=l=>ql())})]),(0,t._)("div",C,[(0,t.Wm)(a,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"facebook",flat:"",onClick:e[4]||(e[4]=l=>yl())})]),(0,t._)("div",q,[(0,t.Wm)(a,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"smart_display",flat:"",onClick:e[5]||(e[5]=l=>xl())})]),(0,t._)("div",U,[(0,t.Wm)(a,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"help",flat:"",onClick:e[6]||(e[6]=l=>Ul("Help"))})])]),(0,t.Wm)(o,{color:"grey",size:"8px"})]),(0,t._)("div",null,[(0,t._)("div",H,[(0,t._)("div",Z,[(0,t.Wm)(a,{class:"col-xs-6 col-sm-6 q-my-sm","no-caps":"",flat:"",label:"LightsandWater",onClick:e[7]||(e[7]=l=>(Ul("LightsAndWater"),ol.value=!0))})]),(0,t.Wm)(o,{vertical:"",inset:""}),(0,t._)("div",I,[(0,t.Wm)(a,{class:"col-xs-6 col-sm-6 q-my-sm","no-caps":"",flat:"",label:"News",onClick:e[8]||(e[8]=l=>Ul("News"))})]),(0,t.Wm)(o,{vertical:"",inset:""}),(0,t._)("div",Q,[(0,t.Wm)(p,{"no-caps":"",label:"Faults",class:"col-xs-6 col-sm-6 q-my-sm",flat:""},{default:(0,t.w5)((()=>[(0,t._)("div",A,[(0,t.Wm)(_,{label:"Electricity Faults","content-inset-level":.3,group:"accordion"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e[9]||(e[9]=l=>kl("electricity.faults@durban.gov.za"))},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[D])),_:1})])),_:1})])),_:1})),[[Al]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e[10]||(e[10]=l=>Wl("767912449"))},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[S])),_:1})])),_:1})])),_:1})),[[Al]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e[11]||(e[11]=l=>hl("080 311 1111"))},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[F])),_:1})])),_:1})])),_:1})),[[Al]])])),_:1})])),_:1},8,["content-inset-level"]),(0,t.Wm)(_,{group:"accordion",label:"Water Faults","content-inset-level":.3},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e[12]||(e[12]=l=>kl("eservices@durban.gov.za"))},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[V])),_:1})])),_:1})])),_:1})),[[Al]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e[13]||(e[13]=l=>Wl("731483477"))},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[z])),_:1})])),_:1})])),_:1})),[[Al]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e[14]||(e[14]=l=>hl("080 1313013"))},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[L])),_:1})])),_:1})])),_:1})),[[Al]])])),_:1})])),_:1},8,["content-inset-level"])])])),_:1})]),(0,t.Wm)(o,{vertical:"",inset:""}),(0,t._)("div",B,[(0,t.Wm)(a,{class:"col-xs-6 col-sm-6 q-my-sm","no-caps":"",flat:"",label:"WhatsApp",onClick:e[15]||(e[15]=l=>v.value=!0)})])])]),(0,t._)("div",M,[(0,t._)("div",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(Hl),(l=>((0,t.wg)(),(0,t.iD)("div",{key:l.id},[(0,t._)("div",{class:"q-px-md",innerHTML:l.description},null,8,j),(0,t._)("img",{src:l.image,alt:"add-image",class:"addImage",onClick:e=>Cl(l.url)},null,8,E),(0,t.wy)((0,t._)("div",R,[(0,t.wy)((0,t._)("div",{class:"ads_price text-h6"}," R "+(0,n.zw)(l.price),513),[[i.F8,l.price>0]]),(0,t.wy)((0,t._)("div",{class:"text-subtitle1"},(0,n.zw)(l.name),513),[[i.F8,"null"!==l.name]])],512),[[i.F8,l.price>0||"null"!==l.name]]),(0,t.Wm)(o,{color:"grey-4",size:"10px",class:"bottomLine"})])))),128))])])])])),_:1}),(0,t.Wm)(gl,{modelValue:c.value,"onUpdate:modelValue":e[16]||(e[16]=l=>c.value=l),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(_l,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(ml,{style:{"min-width":"290px"}},{default:(0,t.w5)((()=>[(0,s.SU)(rl).length||(0,s.SU)(pl)?((0,t.wg)(),(0,t.iD)("div",Y,[T,(0,t._)("div",N,[(0,t.wy)((0,t._)("div",P,' "Your scheduled meter reading is due. Please read and submit." ',512),[[i.F8,(0,s.SU)(pl)]]),(0,t.wy)((0,t.Wm)(o,{color:"grey"},null,512),[[i.F8,(0,s.SU)(pl)]]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(rl),(l=>((0,t.wg)(),(0,t.iD)("div",{class:"",key:l.id},[(0,t._)("div",K,[(0,t._)("div",O,(0,n.zw)(l.message),1),(0,t._)("div",G,[(0,t.Wm)(a,{flat:"",class:"adsBtn",icon:"close",onClick:e=>bl(l.id)},null,8,["onClick"])])]),(0,t.Wm)(o,{color:"grey"})])))),128))])])):((0,t.wg)(),(0,t.iD)("div",$,"No Latest Notification"))])),_:1}),(0,t.Wm)(wl,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(a,{dense:"",label:"Done"},null,512),[[Al]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(gl,{modelValue:v.value,"onUpdate:modelValue":e[19]||(e[19]=l=>v.value=l),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(_l,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(ml,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[J,(0,t._)("div",X,[(0,t.Wm)(Ql,{inputmode:"numeric",color:"black",class:"q-mx-lg",mask:"### ### ####","fill-mask":"",modelValue:dl.value,"onUpdate:modelValue":e[17]||(e[17]=l=>dl.value=l),"input-style":{fontSize:"24px",textAlign:"center"}},null,8,["modelValue"])])])])),_:1}),(0,t.Wm)(wl,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(a,{flat:"",label:"Close","no-caps":""},null,512),[[Al]]),(0,t.wy)((0,t.Wm)(a,{flat:"",label:"Open WhatsApp",onClick:e[18]||(e[18]=l=>Wl(dl.value)),"no-caps":""},null,512),[[Al]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(gl,{modelValue:ol.value,"onUpdate:modelValue":e[22]||(e[22]=l=>ol.value=l),persistent:"",maximized:cl.value},{default:(0,t.w5)((()=>[(0,t.Wm)(_l,null,{default:(0,t.w5)((()=>[(0,t._)("div",ll,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(Hl),(l=>((0,t.wg)(),(0,t.iD)("div",{key:l.id},[(0,t._)("img",{src:l.image,alt:"add-image",class:"addImage",onClick:e=>Cl(l.url)},null,8,el),(0,t.wy)((0,t._)("div",al,[(0,t.wy)((0,t._)("div",{class:"ads_price text-h6"}," R "+(0,n.zw)(l.price),513),[[i.F8,l.price>0]]),(0,t.wy)((0,t._)("div",{class:"text-subtitle1"},(0,n.zw)(l.name),513),[[i.F8,"null"!==l.name]])],512),[[i.F8,l.price>0||"null"!==l.name]]),(0,t.wy)((0,t.Wm)(o,{color:"grey-4",size:"10px",class:"bottomLine"},null,512),[[i.F8,(0,s.SU)(Hl).length]])])))),128))]),(0,t._)("div",tl,[(0,t.wy)((0,t.Wm)(a,{"no-caps":"",color:"primary",rounded:"",class:"text-black fit-content",label:"Home",onClick:e[20]||(e[20]=l=>Ul("Home")),icon:"arrow_back"},null,512),[[Al]]),(0,t.Wm)(a,{"icon-right":"arrow_forward","no-caps":"",color:"primary",rounded:"",class:"text-black fit-content",label:"My Manager",onClick:e[21]||(e[21]=l=>Il("send_reading"))})])])),_:1})])),_:1},8,["modelValue","maximized"]),(0,t.Wm)(gl,{modelValue:il.value,"onUpdate:modelValue":e[23]||(e[23]=l=>il.value=l),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(_l,{style:{"min-width":"280px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ml,null,{default:(0,t.w5)((()=>[sl,nl])),_:1}),(0,t.Wm)(wl,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(a,{label:"Cancel",dense:"","no-caps":""},null,512),[[Al]]),(0,t.Wm)(a,{label:"Logout",dense:"","no-caps":"",onClick:Zl})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var ol=a(1639),cl=a(9885),dl=a(8879),ul=a(926),ml=a(8479),rl=a(3246),pl=a(490),wl=a(1233),_l=a(3115),vl=a(990),gl=a(651),fl=a(7052),Wl=a(1694),yl=a(1487),xl=a(2074),kl=a(4458),hl=a(3190),bl=a(1821),Cl=a(6611),ql=a(1357),Ul=a(2146),Hl=a(9984),Zl=a.n(Hl);const Il=(0,ol.Z)(il,[["__scopeId","data-v-bc4dca2c"]]),Ql=Il;Zl()(il,"components",{QPage:cl.Z,QBtn:dl.Z,QSeparator:ul.Z,QBtnDropdown:ml.Z,QList:rl.Z,QItem:pl.Z,QItemSection:wl.Z,QItemLabel:_l.Z,QBadge:vl.Z,QExpansionItem:gl.Z,QCarousel:fl.Z,QCarouselSlide:Wl.Z,QImg:yl.Z,QDialog:xl.Z,QCard:kl.Z,QCardSection:hl.Z,QCardActions:bl.Z,QInput:Cl.Z,QAvatar:ql.Z}),Zl()(il,"directives",{ClosePopup:Ul.Z})},7009:(l,e,a)=>{l.exports=a.p+"img/MyCity.a053a78f.png"}}]);