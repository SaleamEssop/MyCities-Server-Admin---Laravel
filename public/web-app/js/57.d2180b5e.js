(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[57],{2057:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>Ve});a(8964);var i=a(9835),t=a(6970),n=a(499),d=a(1957),s=a(7009),o=a.n(s),u=a(9302),c=a(8339),r=a(6144),m=a(7047),v=a(5157),p=a(6190),g=a(4170),w=a(8083);const _=e=>((0,i.dD)("data-v-4e210bfd"),e=e(),(0,i.Cn)(),e),f={class:"container"},k={class:"header"},y={class:"header-top-container d-flex align-items-center"},h={class:"header-left-top"},W=_((()=>(0,i._)("div",{class:"logo-container"},[(0,i._)("img",{class:"q-px-lg titleIcon",src:o()})],-1))),x={class:"text-center"},b={class:"ads_main"},C={class:"text-center"},U={class:"sidebar-menu-wrapper"},H={class:"sidebar-top-header"},q={class:"username"},S={class:"text-center",style:{display:"none"}},D={class:"text-center"},V={class:"text-center",style:{display:"none"}},Z=_((()=>(0,i._)("div",null,null,-1))),L={class:"ads"},Q={key:0,class:"adv-item"},F=["src"],A={class:"add_description_scroll"},z=["innerHTML"],I={key:1},M={key:0,class:"adv-item"},T=["src"],B={class:"add_description_scroll"},Y=["innerHTML"],j={key:0},K=_((()=>(0,i._)("div",{class:"text-h6 text-center"},"Get Latest Notification",-1))),P={class:"q-mt-lg"},E={class:"dueMessage"},N={class:"row no-wrap"},O={class:"col text-subtitle1 q-py-sm"},G={class:"col-auto markAsread q-pl-lg"},R={key:1,class:"text-h6 text-center"},$=_((()=>(0,i._)("div",{class:"text-h6 text-center"}," Enter the number you want to Whatsapp ",-1))),J={class:"q-mt-lg"},X={class:"ads dialogAds"},ee=["src","onClick"],le={class:"add_description_scroll"},ae=["innerHTML"],ie={class:"btnLightAndWater"},te=_((()=>(0,i._)("span",{class:"text-h6"},"Logout",-1))),ne=_((()=>(0,i._)("div",{class:"q-mt-sm"},"Are you sure you want to Logout?",-1))),de={__name:"IndexPage",setup(e){const l=(0,c.tv)(),a=(0,r.L)(),s=(0,m.H)(),o=(0,n.iH)(!1),_=(0,n.iH)(!1),de=((0,n.iH)(!1),(0,n.iH)(!1)),se=(0,n.iH)(!1),oe=(0,n.iH)(!0),ue=(0,n.iH)(""),ce=(0,p.c)();let re=(0,n.iH)(!1),me=((0,n.iH)(!1),(0,n.iH)(0));const ve=(0,v.c)(),pe=(0,i.Fl)((()=>ve.getAlarms)),ge=a.getUser,we=(0,i.Fl)((()=>{var e;let l=!1;return null===(e=ce.accounts[0])||void 0===e||e.defaultFixedCost.map((e=>{var a;if("Enter Your Billing Date"===(null===(a=e.fixed_cost)||void 0===a?void 0:a.title)){const a=g.ZP.formatDate(new Date,"DD");e.value-7<=a&&a<=e.value-5&&(l=!0)}})),l})),_e=(0,n.iH)(null),fe=((0,n.iH)(!0),(0,u.Z)()),ke=((0,n.iH)(""),(0,n.iH)("")),ye=(0,n.iH)(null),he=(0,i.Fl)((()=>s.getAds)),We=e=>{me.value=e},xe=e=>{window.open(`https://api.whatsapp.com/send?phone=+27${e}&text=Hello`),ue.value=""},be=()=>{window.open("http://167.172.65.248")},Ce=e=>{let l=pe.value.findIndex((({id:e})=>e==e));e>-1&&pe.value.splice(l,1)},Ue=e=>"www"===e?void 0:(e.match(/^https?:\/\//i)||(e="http://"+e),window.open(e,"_blank")),He=e=>{var l;const a=he.value.find((l=>l.id===e));_e.value=null===(l=a.ads[0])||void 0===l?void 0:l.id,ye.value=a.ads},qe=async e=>{if(he.value&&he.value.length){var l;"Home"===e&&(e="Home");let a=he.value.find((l=>l["name"]===e));_e.value=null===(l=a.ads[0])||void 0===l?void 0:l.id,ye.value=a.ads}else(0,w.updateAllData)(),setTimeout((()=>{var l;"Home"===e&&(e="Home");let a=he.value.find((l=>l["name"]===e));_e.value=null===(l=a.ads[0])||void 0===l?void 0:l.id,ye.value=a.ads}),2e3)};qe("Home");const Se=(0,i.Fl)((()=>{if(console.log(Se),null!==ye.value)return ye.value;{let e=he.value.filter((e=>"Home"===e["name"]));return e.findIndex((({ads:e})=>{var l;_e.value=null===(l=e[0])||void 0===l?void 0:l.id})),[]}}));console.log(Se);const De=()=>{setTimeout((()=>{a.signOut(),l.push("/auth/login").then((()=>{fe.notify({message:"Signed out"})})).catch((e=>console.log("error",e)))}),1e3)};(0,n.iH)([{title:"AppartmentMeter 409",icon:"water",type:{title:"Water",id:1}},{title:"AppartmentMeter 410",icon:"water",type:{title:"Water",id:1}}]);function Ve(e){l.push({name:e})}return(e,l)=>{const a=(0,i.up)("q-badge"),s=(0,i.up)("q-btn"),u=(0,i.up)("q-separator"),c=(0,i.up)("q-item-label"),r=(0,i.up)("q-item-section"),m=(0,i.up)("q-item"),v=(0,i.up)("q-list"),p=(0,i.up)("q-btn-dropdown"),g=(0,i.up)("q-page"),w=(0,i.up)("q-card-section"),ce=(0,i.up)("q-card-actions"),ve=(0,i.up)("q-card"),_e=(0,i.up)("q-dialog"),fe=(0,i.up)("q-input"),Ze=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>{var g,w,_,j,K,P,E,N,O;return[(0,i._)("div",f,[(0,i._)("div",k,[(0,i._)("div",y,[(0,i._)("div",h,[W,(0,i._)("div",x,[(0,i.Wm)(s,{onClick:l[0]||(l[0]=e=>o.value=!0),flat:"",icon:"notifications",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{floating:"",color:"red",rounded:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)((0,n.SU)(we)?(0,n.SU)(pe).length+1:(0,n.SU)(pe).length),1)])),_:1})])),_:1})])]),(0,i.Wm)(s,{icon:"settings_power",round:"",onClick:l[1]||(l[1]=e=>de.value=!0)})]),(0,i.Wm)(u,{color:"grey q-mt-sm",size:"2px"}),(0,i._)("div",b,[(0,i._)("div",C,[(0,i.Wm)(s,{onClick:l[2]||(l[2]=e=>(0,n.dq)(re)?re.value=!(0,n.SU)(re):re=!(0,n.SU)(re)),icon:"menu",flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"}),(0,i._)("div",{class:(0,t.C_)([{open:(0,n.SU)(re)},"sidebar-fullscreen text-left"])},[(0,i._)("div",{class:"overlay",onClick:l[3]||(l[3]=e=>(0,n.dq)(re)?re.value=!1:re=!1)}),(0,i._)("div",U,[(0,i._)("div",H,[(0,i._)("span",q,(0,t.zw)(null===(g=(0,n.SU)(ge))||void 0===g?void 0:g.name),1),(0,i.Wm)(s,{icon:"close",onClick:l[4]||(l[4]=e=>(0,n.dq)(re)?re.value=!1:re=!1)})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(he),(a=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a.id},[a.ads&&a.ads.length?((0,i.wg)(),(0,i.j4)(v,{key:0},{default:(0,i.w5)((()=>[a.childs.length>0?(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{key:0,clickable:"",onClick:e.onChildItemClick,class:(0,t.C_)(a.childs.length>0?"submenu":"")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:(0,t.C_)({active:a.id==(0,n.SU)(me)}),onClick:e=>We(a.id),style:{"font-size":"1.2rem","font-weight":"bold"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(null===a||void 0===a?void 0:a.name),1)])),_:2},1032,["class","onClick"]),(0,i._)("div",{class:(0,t.C_)(["sub-menu-items",{active:a.id===(0,n.SU)(me)}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.childs,(e=>((0,i.wg)(),(0,i.j4)(v,{key:e.id},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:ke.value,"onUpdate:modelValue":l[5]||(l[5]=e=>ke.value=e),onClick:l=>{He(e.id),(0,n.dq)(re)?re.value=!(0,n.SU)(re):re=!(0,n.SU)(re)}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))],2)])),_:2},1024)])),_:2},1032,["onClick","class"])),[[d.F8,"LightsAndWater"!==(null===a||void 0===a?void 0:a.name)],[Ze]]):(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{key:1,clickable:""},{default:(0,i.w5)((()=>[null==a.parent_id?((0,i.wg)(),(0,i.j4)(r,{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:ke.value,"onUpdate:modelValue":l[6]||(l[6]=e=>ke.value=e),class:(0,t.C_)({active:a.id===(0,n.SU)(me)}),onClick:e=>{He(a.id),(0,n.dq)(re)?re.value=!(0,n.SU)(re):re=!(0,n.SU)(re),We(a.id)},style:{"font-size":"1.2rem","font-weight":"bold"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(null===a||void 0===a?void 0:a.name),1)])),_:2},1032,["modelValue","class","onClick"])])),_:2},1024)):(0,i.kq)("",!0)])),_:2},1024)),[[d.F8,"LightsAndWater"!==(null===a||void 0===a?void 0:a.name)],[Ze]])])),_:2},1024)):(0,i.kq)("",!0)],64)))),128))])],2)]),(0,i._)("div",S,[(0,i.Wm)(p,{flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"menu"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(he),(e=>((0,i.wg)(),(0,i.j4)(v,{key:e.id},{default:(0,i.w5)((()=>[(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:ke.value,"onUpdate:modelValue":l[7]||(l[7]=e=>ke.value=e),onClick:l=>He(e.id)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1024)),[[d.F8,"LightsAndWater"!==e.name],[Ze]])])),_:2},1024)))),128))])),_:1})]),(0,i._)("div",D,[(0,i.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Home",onClick:l[8]||(l[8]=e=>qe("Home"))}),(0,i.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Lights And Water",onClick:l[9]||(l[9]=e=>(qe("LightsAndWater"),se.value=!0))})]),(0,i._)("div",V,[(0,i.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green","no-caps":"",rounded:"",label:"FoodBasket",onClick:l[10]||(l[10]=e=>be())})])]),(0,i.Wm)(u,{color:"grey",size:"2px"})]),Z,(0,i._)("div",L,[(0,i._)("div",null,[null!==(w=(0,n.SU)(Se))&&void 0!==w&&w.id?((0,i.wg)(),(0,i.iD)("div",Q,[(0,n.SU)(Se).image?((0,i.wg)(),(0,i.iD)("img",{key:0,src:(0,n.SU)(Se).image,class:"addImage",onClick:l[11]||(l[11]=e=>Ue((0,n.SU)(Se).url))},null,8,F)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",A,[(0,i.wy)((0,i._)("div",{class:"text-subtitle1",innerHTML:(0,n.SU)(Se).description},null,8,z),[[d.F8,"null"!==(0,n.SU)(Se).description]])],512),[[d.F8,(0,n.SU)(Se).price>0||"null"!==(0,n.SU)(Se).name]])])):((0,i.wg)(),(0,i.iD)("div",I,[ye.value&&null!==(_=ye.value[0])&&void 0!==_&&_.id?((0,i.wg)(),(0,i.iD)("div",M,[null!==(j=ye.value[0])&&void 0!==j&&j.image?((0,i.wg)(),(0,i.iD)("img",{key:0,src:null===(K=ye.value[0])||void 0===K?void 0:K.image,class:"addImage",onClick:l[12]||(l[12]=e=>{var l;return Ue(null===(l=ye.value[0])||void 0===l?void 0:l.url)})},null,8,T)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",B,[(0,i.wy)((0,i._)("div",{class:"text-subtitle1",innerHTML:null===(P=ye.value[0])||void 0===P?void 0:P.description},null,8,Y),[[d.F8,"null"!==(null===(E=ye.value[0])||void 0===E?void 0:E.description)]])],512),[[d.F8,(null===(N=ye.value[0])||void 0===N?void 0:N.price)>0||"null"!==(null===(O=ye.value[0])||void 0===O?void 0:O.name)]])])):(0,i.kq)("",!0)]))])])])]})),_:1}),(0,i.Wm)(_e,{modelValue:o.value,"onUpdate:modelValue":l[13]||(l[13]=e=>o.value=e),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(ve,{class:"modalborder"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{style:{"min-width":"290px"}},{default:(0,i.w5)((()=>[(0,n.SU)(pe).length||(0,n.SU)(we)?((0,i.wg)(),(0,i.iD)("div",j,[K,(0,i._)("div",P,[(0,i.wy)((0,i._)("div",E,' "Your scheduled meter reading is due. Please read and submit." ',512),[[d.F8,(0,n.SU)(we)]]),(0,i.wy)((0,i.Wm)(u,{color:"grey"},null,512),[[d.F8,(0,n.SU)(we)]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(pe),(e=>((0,i.wg)(),(0,i.iD)("div",{class:"",key:e.id},[(0,i._)("div",N,[(0,i._)("div",O,(0,t.zw)(e.message),1),(0,i._)("div",G,[(0,i.Wm)(s,{flat:"",class:"adsBtn",icon:"close",onClick:l=>Ce(e.id)},null,8,["onClick"])])]),(0,i.Wm)(u,{color:"grey"})])))),128))])])):((0,i.wg)(),(0,i.iD)("div",R,"No Latest Notification"))])),_:1}),(0,i.Wm)(ce,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(s,{dense:"",label:"Done"},null,512),[[Ze]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(_e,{modelValue:_.value,"onUpdate:modelValue":l[16]||(l[16]=e=>_.value=e),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(ve,{class:"modalborder"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,[$,(0,i._)("div",J,[(0,i.Wm)(fe,{inputmode:"numeric",color:"black",class:"q-mx-lg",mask:"### ### ####","fill-mask":"",modelValue:ue.value,"onUpdate:modelValue":l[14]||(l[14]=e=>ue.value=e),"input-style":{fontSize:"24px",textAlign:"center"}},null,8,["modelValue"])])])])),_:1}),(0,i.Wm)(ce,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(s,{flat:"",label:"Close","no-caps":""},null,512),[[Ze]]),(0,i.wy)((0,i.Wm)(s,{flat:"",label:"Open WhatsApp",onClick:l[15]||(l[15]=e=>xe(ue.value)),"no-caps":""},null,512),[[Ze]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(_e,{modelValue:se.value,"onUpdate:modelValue":l[18]||(l[18]=e=>se.value=e),persistent:"",maximized:oe.value},{default:(0,i.w5)((()=>[(0,i.Wm)(ve,null,{default:(0,i.w5)((()=>[(0,i._)("div",X,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(Se),(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i._)("img",{src:e.image,alt:"add-image1",class:"addImage",onClick:l=>Ue(e.url)},null,8,ee),(0,i.wy)((0,i._)("div",le,[(0,i.wy)((0,i._)("div",{class:"ads_price text-h6"}," R "+(0,t.zw)(e.price),513),[[d.F8,e.price>0]]),(0,i.wy)((0,i._)("div",{class:"text-subtitle1",innerHTML:e.description},null,8,ae),[[d.F8,"null"!==e.description]])],512),[[d.F8,e.price>0||"null"!==e.name]]),(0,i.wy)((0,i.Wm)(u,{color:"grey-4",size:"10px",class:"bottomLine"},null,512),[[d.F8,(0,n.SU)(Se).length]])])))),128))]),(0,i._)("div",ie,[(0,i.wy)((0,i.Wm)(s,{"no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"Home",icon:"arrow_back"},null,512),[[Ze]]),(0,i.Wm)(s,{"icon-right":"arrow_forward","no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"My Manager",onClick:l[17]||(l[17]=e=>Ve("send_reading"))})])])),_:1})])),_:1},8,["modelValue","maximized"]),(0,i.Wm)(_e,{modelValue:de.value,"onUpdate:modelValue":l[19]||(l[19]=e=>de.value=e),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(ve,{style:{"min-width":"280px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[te,ne])),_:1}),(0,i.Wm)(ce,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(s,{label:"Cancel",dense:"","no-caps":""},null,512),[[Ze]]),(0,i.Wm)(s,{label:"Logout",dense:"","no-caps":"",onClick:De})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var se=a(1639),oe=a(9885),ue=a(8879),ce=a(990),re=a(926),me=a(3246),ve=a(490),pe=a(1233),ge=a(3115),we=a(8479),_e=a(651),fe=a(7052),ke=a(1694),ye=a(1487),he=a(3706),We=a(4458),xe=a(3190),be=a(1821),Ce=a(6611),Ue=a(1357),He=a(2146),qe=a(9984),Se=a.n(qe);const De=(0,se.Z)(de,[["__scopeId","data-v-4e210bfd"]]),Ve=De;Se()(de,"components",{QPage:oe.Z,QBtn:ue.Z,QBadge:ce.Z,QSeparator:re.Z,QList:me.Z,QItem:ve.Z,QItemSection:pe.Z,QItemLabel:ge.Z,QBtnDropdown:we.Z,QExpansionItem:_e.Z,QCarousel:fe.Z,QCarouselSlide:ke.Z,QImg:ye.Z,QDialog:he.Z,QCard:We.Z,QCardSection:xe.Z,QCardActions:be.Z,QInput:Ce.Z,QAvatar:Ue.Z}),Se()(de,"directives",{ClosePopup:He.Z})},7009:(e,l,a)=>{e.exports=a.p+"img/MyCity.a35cdb03.png"}}]);