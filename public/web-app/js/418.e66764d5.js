"use strict";(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[418],{3418:(e,a,l)=>{l.r(a),l.d(a,{default:()=>E});var s=l(1758),t=l(8790),o=l(9104),i=l(8734),n=l(3394),c=l(4907),r=l(4685);const u={class:"login-container"},d={class:"logo-section"},p={class:"logo-icon"},v={class:"login-form-container"},m={key:0,class:"error-banner","data-test":"login-error"},g={class:"form-field"},k={class:"form-field"},b={class:"password-field"},L=["type"],f=["disabled"],y=["disabled"],h={class:"forgot-password"},w={class:"create-account"},_={__name:"LoginPage",setup(e){const a=(0,n.rd)(),l=(0,c.A)(),_=(0,i.KR)(""),C=(0,i.KR)(""),P=(0,i.KR)(!1),R=(0,i.KR)(!1),D=(0,i.KR)(!1),A=(0,i.KR)("");(0,s.sV)(()=>{(0,r.wR)()&&a.replace({name:"account-select"})});const K=async()=>{if(A.value="",_.value&&C.value)if((0,r.B9)(_.value)){R.value=!0;try{await new Promise(e=>setTimeout(e,500)),(0,r.iD)(_.value,C.value),l.notify({type:"positive",message:"Welcome back!",position:"top"}),a.push({name:"account-select"})}catch(e){A.value=e.message}finally{R.value=!1}}else A.value="Please enter a valid email address";else A.value="Please fill in all fields"},E=async()=>{A.value="",D.value=!0;try{await new Promise(e=>setTimeout(e,500)),(0,r.H9)(),l.notify({type:"positive",message:"Welcome to the demo!",position:"top"}),a.push({name:"account-select"})}catch(e){A.value=e.message}finally{D.value=!1}},T=()=>{a.push({name:"register"})},W=()=>{a.push({name:"forgot-password"})};return(e,a)=>{const l=(0,s.g2)("q-icon"),i=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(i,{class:"login-page","data-test":"login-page"},{default:(0,s.k6)(()=>[a[10]||(a[10]=(0,s.Lk)("div",{class:"header-bar"},[(0,s.Lk)("span",null,"MyCities")],-1)),(0,s.Lk)("div",u,[(0,s.Lk)("div",d,[(0,s.Lk)("div",p,[(0,s.bF)(l,{name:"water_drop",size:"64px"})]),a[3]||(a[3]=(0,s.Lk)("h1",{class:"app-title"},"MyCities",-1)),a[4]||(a[4]=(0,s.Lk)("p",{class:"app-subtitle"},"Water & Electricity Meter Reading",-1))]),(0,s.Lk)("div",v,[A.value?((0,s.uX)(),(0,s.CE)("div",m,(0,t.v_)(A.value),1)):(0,s.Q3)("",!0),(0,s.Lk)("form",{onSubmit:(0,o.D$)(K,["prevent"]),class:"login-form"},[(0,s.Lk)("div",g,[a[5]||(a[5]=(0,s.Lk)("label",{class:"field-label"},"Email",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),type:"email",class:"field-input",placeholder:"Enter your email","data-test":"login-email"},null,512),[[o.Jo,_.value]])]),(0,s.Lk)("div",k,[a[6]||(a[6]=(0,s.Lk)("label",{class:"field-label"},"Password",-1)),(0,s.Lk)("div",b,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>C.value=e),type:P.value?"text":"password",class:"field-input",placeholder:"Enter your password","data-test":"login-password"},null,8,L),[[o.hp,C.value]]),(0,s.Lk)("button",{type:"button",class:"toggle-password",onClick:a[2]||(a[2]=e=>P.value=!P.value)},[(0,s.bF)(l,{name:P.value?"visibility_off":"visibility"},null,8,["name"])])])]),(0,s.Lk)("button",{type:"submit",class:"btn-primary",disabled:R.value,"data-test":"login-submit"},(0,t.v_)(R.value?"Signing in...":"Sign In"),9,f)],32),a[8]||(a[8]=(0,s.Lk)("div",{class:"divider"},[(0,s.Lk)("span",null,"or")],-1)),(0,s.Lk)("button",{class:"btn-secondary",disabled:D.value,onClick:E,"data-test":"login-demo"},(0,t.v_)(D.value?"Loading...":"Use Demo Account"),9,y),(0,s.Lk)("div",h,[(0,s.Lk)("a",{href:"#",onClick:(0,o.D$)(W,["prevent"]),"data-test":"login-forgot-password"}," Forgot Password? ")]),(0,s.Lk)("div",w,[a[7]||(a[7]=(0,s.Lk)("span",null,"Don't have an account?",-1)),(0,s.Lk)("a",{href:"#",onClick:(0,o.D$)(T,["prevent"]),"data-test":"login-create-account"}," Create Account ")])]),a[9]||(a[9]=(0,s.Lk)("div",{class:"demo-hint"},[(0,s.Lk)("p",null,"Demo: demo@mycities.co.za / demo123")],-1))])]),_:1})}}};var C=l(2807),P=l(7716),R=l(492),D=l(8582),A=l.n(D);const K=(0,C.A)(_,[["__scopeId","data-v-24057574"]]),E=K;A()(_,"components",{QPage:P.A,QIcon:R.A})}}]);