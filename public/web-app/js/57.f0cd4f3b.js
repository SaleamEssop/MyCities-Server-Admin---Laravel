(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[57],{2057:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>we});a(8964);var t=a(9835),i=a(6970),n=a(499),o=a(1957),s=a(7009),d=a.n(s),c=a(9302),u=a(8339),r=a(6144),m=a(7047),p=a(5157),g=a(6190),v=a(4170);const w=e=>((0,t.dD)("data-v-2bedc07f"),e=e(),(0,t.Cn)(),e),_={class:"container"},f={class:"header"},h={class:"header-top-container d-flex align-items-center"},W=w((()=>(0,t._)("div",{class:"logo-container"},[(0,t._)("img",{class:"q-px-lg titleIcon",src:d()})],-1))),x={class:"text-center"},y={class:"ads_main"},k={class:"text-center"},b={class:"text-center"},C={class:"text-center"},q=w((()=>(0,t._)("div",null,null,-1))),H={class:"ads"},Z=["src","onClick"],Q={key:0},U=w((()=>(0,t._)("div",{class:"text-h6 text-center"},"Get Latest Notification",-1))),D={class:"q-mt-lg"},S={class:"dueMessage"},V={class:"row no-wrap"},A={class:"col text-subtitle1 q-py-sm"},I={class:"col-auto markAsread q-pl-lg"},L={key:1,class:"text-h6 text-center"},F=w((()=>(0,t._)("div",{class:"text-h6 text-center"}," Enter the number you want to Whatsapp ",-1))),z={class:"q-mt-lg"},B={class:"ads dialogAds"},Y=["src","onClick"],M={class:"add_description_scroll"},P={class:"btnLightAndWater"},K=w((()=>(0,t._)("span",{class:"text-h6"},"Logout",-1))),E=w((()=>(0,t._)("div",{class:"q-mt-sm"},"Are you sure you want to Logout?",-1))),N={__name:"IndexPage",setup(e){const l=(0,u.tv)(),a=(0,r.L)(),s=(0,m.H)(),d=(0,n.iH)(!1),w=(0,n.iH)(!1),N=((0,n.iH)(!1),(0,n.iH)(!1)),T=(0,n.iH)(!1),j=(0,n.iH)(!0),O=(0,n.iH)(""),G=(0,g.c)(),R=(0,p.c)(),$=(0,t.Fl)((()=>R.getAlarms)),J=(0,t.Fl)((()=>{var e;let l=!1;return null===(e=G.accounts[0])||void 0===e||e.defaultFixedCost.map((e=>{var a;if("Enter Your Billing Date"===(null===(a=e.fixed_cost)||void 0===a?void 0:a.title)){const a=v.ZP.formatDate(new Date,"DD");e.value-7<=a&&a<=e.value-5&&(l=!0)}})),l})),X=(0,n.iH)(null),ee=((0,n.iH)(!0),(0,c.Z)()),le=((0,n.iH)(""),(0,n.iH)("")),ae=(0,n.iH)(null),te=(0,t.Fl)((()=>s.getAds)),ie=e=>{window.open(`https://api.whatsapp.com/send?phone=+27${e}&text=Hello`),O.value=""},ne=()=>{window.open("http://167.172.65.248")},oe=e=>{let l=$.value.findIndex((({id:e})=>e==e));e>-1&&$.value.splice(l,1)},se=e=>"www"===e?void 0:(e.match(/^https?:\/\//i)||(e="http://"+e),window.open(e,"_blank")),de=e=>{var l,a;let t=te.value.filter((l=>l["name"]===e));X.value=null===(l=t[0].ads[0])||void 0===l?void 0:l.id,ae.value=null===(a=t[0])||void 0===a?void 0:a.ads},ce=(0,t.Fl)((()=>{if(null!==ae.value)return ae.value;{var e;let l=te.value.filter((e=>"Home"===e["name"]));return l.findIndex((({ads:e})=>{var l;X.value=null===(l=e[0])||void 0===l?void 0:l.id})),null===(e=l[0])||void 0===e?void 0:e.ads}}));console.log(ce);const ue=()=>{setTimeout((()=>{a.signOut(),l.push("/auth/login").then((()=>{ee.notify({message:"Signed out"})})).catch((e=>console.log("error",e))),timer=void 0}),1e3)};(0,n.iH)([{title:"AppartmentMeter 409",icon:"water",type:{title:"Water",id:1}},{title:"AppartmentMeter 410",icon:"water",type:{title:"Water",id:1}}]);function re(e){l.push({name:e})}return(e,l)=>{const a=(0,t.up)("q-badge"),s=(0,t.up)("q-btn"),c=(0,t.up)("q-separator"),u=(0,t.up)("q-item-label"),r=(0,t.up)("q-item-section"),m=(0,t.up)("q-item"),p=(0,t.up)("q-list"),g=(0,t.up)("q-btn-dropdown"),v=(0,t.up)("q-page"),G=(0,t.up)("q-card-section"),R=(0,t.up)("q-card-actions"),X=(0,t.up)("q-card"),ee=(0,t.up)("q-dialog"),ae=(0,t.up)("q-input"),me=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t._)("div",_,[(0,t._)("div",f,[(0,t._)("div",h,[W,(0,t._)("div",x,[(0,t.Wm)(s,{onClick:l[0]||(l[0]=e=>d.value=!0),flat:"",icon:"notifications",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{floating:"",color:"red",rounded:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,n.SU)(J)?(0,n.SU)($).length+1:(0,n.SU)($).length),1)])),_:1})])),_:1})]),(0,t.Wm)(s,{icon:"settings_power",round:"",onClick:l[1]||(l[1]=e=>N.value=!0)})]),(0,t.Wm)(c,{color:"grey q-mt-sm",size:"2px"}),(0,t._)("div",y,[(0,t._)("div",k,[(0,t.Wm)(g,{flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"menu"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(te),(a=>((0,t.wg)(),(0,t.j4)(p,{key:a.id},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e.onItemClick},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:le.value,"onUpdate:modelValue":l[2]||(l[2]=e=>le.value=e),onClick:e=>de(a.name)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1032,["onClick"])),[[o.F8,"LightsAndWater"!==a.name],[me]])])),_:2},1024)))),128))])),_:1})]),(0,t._)("div",b,[(0,t.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Light & Water",onClick:l[3]||(l[3]=e=>(de("LightsAndWater"),T.value=!0))})]),(0,t._)("div",C,[(0,t.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green","no-caps":"",rounded:"",label:"FoodBasket",onClick:l[4]||(l[4]=e=>ne())})])]),(0,t.Wm)(c,{color:"grey",size:"2px"})]),q,(0,t._)("div",H,[(0,t._)("div",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(ce),(e=>((0,t.wg)(),(0,t.iD)("div",{class:"adv-item",key:e.id},[(0,t._)("img",{src:e.image,class:"addImage",onClick:l=>se(e.url)},null,8,Z)])))),128))])])])])),_:1}),(0,t.Wm)(ee,{modelValue:d.value,"onUpdate:modelValue":l[5]||(l[5]=e=>d.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{style:{"min-width":"290px"}},{default:(0,t.w5)((()=>[(0,n.SU)($).length||(0,n.SU)(J)?((0,t.wg)(),(0,t.iD)("div",Q,[U,(0,t._)("div",D,[(0,t.wy)((0,t._)("div",S,' "Your scheduled meter reading is due. Please read and submit." ',512),[[o.F8,(0,n.SU)(J)]]),(0,t.wy)((0,t.Wm)(c,{color:"grey"},null,512),[[o.F8,(0,n.SU)(J)]]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)($),(e=>((0,t.wg)(),(0,t.iD)("div",{class:"",key:e.id},[(0,t._)("div",V,[(0,t._)("div",A,(0,i.zw)(e.message),1),(0,t._)("div",I,[(0,t.Wm)(s,{flat:"",class:"adsBtn",icon:"close",onClick:l=>oe(e.id)},null,8,["onClick"])])]),(0,t.Wm)(c,{color:"grey"})])))),128))])])):((0,t.wg)(),(0,t.iD)("div",L,"No Latest Notification"))])),_:1}),(0,t.Wm)(R,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(s,{dense:"",label:"Done"},null,512),[[me]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(ee,{modelValue:w.value,"onUpdate:modelValue":l[8]||(l[8]=e=>w.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(G,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[F,(0,t._)("div",z,[(0,t.Wm)(ae,{inputmode:"numeric",color:"black",class:"q-mx-lg",mask:"### ### ####","fill-mask":"",modelValue:O.value,"onUpdate:modelValue":l[6]||(l[6]=e=>O.value=e),"input-style":{fontSize:"24px",textAlign:"center"}},null,8,["modelValue"])])])])),_:1}),(0,t.Wm)(R,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(s,{flat:"",label:"Close","no-caps":""},null,512),[[me]]),(0,t.wy)((0,t.Wm)(s,{flat:"",label:"Open WhatsApp",onClick:l[7]||(l[7]=e=>ie(O.value)),"no-caps":""},null,512),[[me]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(ee,{modelValue:T.value,"onUpdate:modelValue":l[11]||(l[11]=e=>T.value=e),persistent:"",maximized:j.value},{default:(0,t.w5)((()=>[(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t._)("div",B,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(ce),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id},[(0,t._)("img",{src:e.image,alt:"add-image1",class:"addImage",onClick:l=>se(e.url)},null,8,Y),(0,t.wy)((0,t._)("div",M,[(0,t.wy)((0,t._)("div",{class:"ads_price text-h6"}," R "+(0,i.zw)(e.price),513),[[o.F8,e.price>0]])],512),[[o.F8,e.price>0||"null"!==e.name]]),(0,t.wy)((0,t.Wm)(c,{color:"grey-4",size:"10px",class:"bottomLine"},null,512),[[o.F8,(0,n.SU)(ce).length]])])))),128))]),(0,t._)("div",P,[(0,t.wy)((0,t.Wm)(s,{"no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"Home",onClick:l[9]||(l[9]=e=>de("Home")),icon:"arrow_back"},null,512),[[me]]),(0,t.Wm)(s,{"icon-right":"arrow_forward","no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"My Manager",onClick:l[10]||(l[10]=e=>re("send_reading"))})])])),_:1})])),_:1},8,["modelValue","maximized"]),(0,t.Wm)(ee,{modelValue:N.value,"onUpdate:modelValue":l[12]||(l[12]=e=>N.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{style:{"min-width":"280px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(G,null,{default:(0,t.w5)((()=>[K,E])),_:1}),(0,t.Wm)(R,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(s,{label:"Cancel",dense:"","no-caps":""},null,512),[[me]]),(0,t.Wm)(s,{label:"Logout",dense:"","no-caps":"",onClick:ue})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var T=a(1639),j=a(9885),O=a(8879),G=a(990),R=a(926),$=a(8479),J=a(3246),X=a(490),ee=a(1233),le=a(3115),ae=a(651),te=a(7052),ie=a(1694),ne=a(1487),oe=a(2074),se=a(4458),de=a(3190),ce=a(1821),ue=a(6611),re=a(1357),me=a(2146),pe=a(9984),ge=a.n(pe);const ve=(0,T.Z)(N,[["__scopeId","data-v-2bedc07f"]]),we=ve;ge()(N,"components",{QPage:j.Z,QBtn:O.Z,QBadge:G.Z,QSeparator:R.Z,QBtnDropdown:$.Z,QList:J.Z,QItem:X.Z,QItemSection:ee.Z,QItemLabel:le.Z,QExpansionItem:ae.Z,QCarousel:te.Z,QCarouselSlide:ie.Z,QImg:ne.Z,QDialog:oe.Z,QCard:se.Z,QCardSection:de.Z,QCardActions:ce.Z,QInput:ue.Z,QAvatar:re.Z}),ge()(N,"directives",{ClosePopup:me.Z})},7009:(e,l,a)=>{e.exports=a.p+"img/MyCity.c33a3e4a.png"}}]);