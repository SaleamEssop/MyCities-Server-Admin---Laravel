(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[57],{2057:(l,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>Dl});a(8964);var i=a(9835),t=a(6970),n=a(499),o=a(1957),s=a(7009),d=a.n(s),u=a(9302),c=a(8339),r=a(6144),m=a(7047),v=a(5157),p=a(6190),w=a(4170);const g=l=>((0,i.dD)("data-v-33b8eb9b"),l=l(),(0,i.Cn)(),l),_={class:"container"},k={class:"header"},y={class:"header-top-container d-flex align-items-center"},f={class:"header-left-top"},h=g((()=>(0,i._)("div",{class:"logo-container"},[(0,i._)("img",{class:"q-px-lg titleIcon",src:d()})],-1))),W={class:"text-center"},C={class:"ads_main"},b={class:"text-center"},x={class:"sidebar-menu-wrapper"},U={class:"sidebar-top-header"},q={class:"username"},H={class:"text-center",style:{display:"none"}},S={class:"text-center"},D={class:"text-center",style:{display:"none"}},V=g((()=>(0,i._)("div",null,null,-1))),Z={class:"ads"},L={key:0,class:"adv-item"},Q=["src"],A={class:"add_description_scroll"},F=["innerHTML"],I={key:1},z={key:0,class:"adv-item"},M=["src"],B={class:"add_description_scroll"},T=["innerHTML"],Y={key:0},j=g((()=>(0,i._)("div",{class:"text-h6 text-center"},"Get Latest Notification",-1))),K={class:"q-mt-lg"},P={class:"dueMessage"},E={class:"row no-wrap"},N={class:"col text-subtitle1 q-py-sm"},O={class:"col-auto markAsread q-pl-lg"},G={key:1,class:"text-h6 text-center"},R=g((()=>(0,i._)("div",{class:"text-h6 text-center"}," Enter the number you want to Whatsapp ",-1))),$={class:"q-mt-lg"},J={class:"ads dialogAds"},X=["src","onClick"],ll={class:"add_description_scroll"},el=["innerHTML"],al={class:"btnLightAndWater"},il=g((()=>(0,i._)("span",{class:"text-h6"},"Logout",-1))),tl=g((()=>(0,i._)("div",{class:"q-mt-sm"},"Are you sure you want to Logout?",-1))),nl={__name:"IndexPage",setup(l){const e=(0,c.tv)(),a=(0,r.L)(),s=(0,m.H)(),d=(0,n.iH)(!1),g=(0,n.iH)(!1),nl=((0,n.iH)(!1),(0,n.iH)(!1)),ol=(0,n.iH)(!1),sl=(0,n.iH)(!0),dl=(0,n.iH)(""),ul=(0,p.c)();let cl=(0,n.iH)(!1),rl=((0,n.iH)(!1),(0,n.iH)(0));const ml=(0,v.c)(),vl=(0,i.Fl)((()=>ml.getAlarms)),pl=a.getUser,wl=(0,i.Fl)((()=>{var l;let e=!1;return null===(l=ul.accounts[0])||void 0===l||l.defaultFixedCost.map((l=>{var a;if("Enter Your Billing Date"===(null===(a=l.fixed_cost)||void 0===a?void 0:a.title)){const a=w.ZP.formatDate(new Date,"DD");l.value-7<=a&&a<=l.value-5&&(e=!0)}})),e})),gl=(0,n.iH)(null),_l=((0,n.iH)(!0),(0,u.Z)()),kl=((0,n.iH)(""),(0,n.iH)("")),yl=(0,n.iH)(null),fl=(0,i.Fl)((()=>s.getAds)),hl=l=>{rl.value=l},Wl=l=>{window.open(`https://api.whatsapp.com/send?phone=+27${l}&text=Hello`),dl.value=""},Cl=()=>{window.open("http://167.172.65.248")},bl=l=>{let e=vl.value.findIndex((({id:l})=>l==l));l>-1&&vl.value.splice(e,1)},xl=l=>"www"===l?void 0:(l.match(/^https?:\/\//i)||(l="http://"+l),window.open(l,"_blank")),Ul=l=>{var e;const a=new Array;fl.value.filter((e=>{e["id"]==l&&a.push(e)}));yl.value=null===(e=a[0])||void 0===e?void 0:e.ads[0],console.log(yl)},ql=l=>{var e,a;new Array;"Home"==l&&(l="Home");let i=fl.value.filter((e=>e["name"]===l));gl.value=null===(e=i[0].ads[0])||void 0===e?void 0:e.id,yl.value=null===(a=i[0])||void 0===a?void 0:a.ads};ql("Home");const Hl=(0,i.Fl)((()=>{if(console.log(Hl),null!==yl.value)return yl.value;{let l=fl.value.filter((l=>"Home"===l["name"]));return l.findIndex((({ads:l})=>{var e;gl.value=null===(e=l[0])||void 0===e?void 0:e.id})),[]}}));console.log(Hl);const Sl=()=>{setTimeout((()=>{a.signOut(),e.push("/auth/login").then((()=>{_l.notify({message:"Signed out"})})).catch((l=>console.log("error",l)))}),1e3)};(0,n.iH)([{title:"AppartmentMeter 409",icon:"water",type:{title:"Water",id:1}},{title:"AppartmentMeter 410",icon:"water",type:{title:"Water",id:1}}]);function Dl(l){e.push({name:l})}return(l,e)=>{const a=(0,i.up)("q-badge"),s=(0,i.up)("q-btn"),u=(0,i.up)("q-separator"),c=(0,i.up)("q-item-label"),r=(0,i.up)("q-item-section"),m=(0,i.up)("q-item"),v=(0,i.up)("q-list"),p=(0,i.up)("q-btn-dropdown"),w=(0,i.up)("q-page"),ul=(0,i.up)("q-card-section"),ml=(0,i.up)("q-card-actions"),gl=(0,i.up)("q-card"),_l=(0,i.up)("q-dialog"),Vl=(0,i.up)("q-input"),Zl=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>{var w,g,Y,j,K,P,E,N,O;return[(0,i._)("div",_,[(0,i._)("div",k,[(0,i._)("div",y,[(0,i._)("div",f,[h,(0,i._)("div",W,[(0,i.Wm)(s,{onClick:e[0]||(e[0]=l=>d.value=!0),flat:"",icon:"notifications",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{floating:"",color:"red",rounded:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)((0,n.SU)(wl)?(0,n.SU)(vl).length+1:(0,n.SU)(vl).length),1)])),_:1})])),_:1})])]),(0,i.Wm)(s,{icon:"settings_power",round:"",onClick:e[1]||(e[1]=l=>nl.value=!0)})]),(0,i.Wm)(u,{color:"grey q-mt-sm",size:"2px"}),(0,i._)("div",C,[(0,i._)("div",b,[(0,i.Wm)(s,{onClick:e[2]||(e[2]=l=>(0,n.dq)(cl)?cl.value=!(0,n.SU)(cl):cl=!(0,n.SU)(cl)),icon:"menu",flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"}),(0,i._)("div",{class:(0,t.C_)([{open:(0,n.SU)(cl)},"sidebar-fullscreen text-left"])},[(0,i._)("div",{class:"overlay",onClick:e[3]||(e[3]=l=>(0,n.dq)(cl)?cl.value=!1:cl=!1)}),(0,i._)("div",x,[(0,i._)("div",U,[(0,i._)("span",q,(0,t.zw)(null===(w=(0,n.SU)(pl))||void 0===w?void 0:w.name),1),(0,i.Wm)(s,{icon:"close",onClick:e[4]||(e[4]=l=>(0,n.dq)(cl)?cl.value=!1:cl=!1)})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(fl),(a=>((0,i.wg)(),(0,i.j4)(v,{key:a.id},{default:(0,i.w5)((()=>[a.childs.length>0?(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{key:0,clickable:"",onClick:l.onChildItemClick,class:(0,t.C_)(a.childs.length>0?"submenu":"")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:(0,t.C_)({active:a.id==(0,n.SU)(rl)}),onClick:l=>hl(a.id)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(null===a||void 0===a?void 0:a.name),1)])),_:2},1032,["class","onClick"]),(0,i._)("div",{class:(0,t.C_)(["sub-menu-items",{active:a.id==(0,n.SU)(rl)}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.childs,(l=>((0,i.wg)(),(0,i.j4)(v,{key:l.id},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:kl.value,"onUpdate:modelValue":e[5]||(e[5]=l=>kl.value=l),onClick:e=>{Ul(l.id),(0,n.dq)(cl)?cl.value=!(0,n.SU)(cl):cl=!(0,n.SU)(cl)}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(l.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))],2)])),_:2},1024)])),_:2},1032,["onClick","class"])),[[o.F8,"LightsAndWater"!==(null===a||void 0===a?void 0:a.name)],[Zl]]):(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{key:1,clickable:"",onClick:l.onItemClick},{default:(0,i.w5)((()=>[null==a.parent_id?((0,i.wg)(),(0,i.j4)(r,{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:kl.value,"onUpdate:modelValue":e[6]||(e[6]=l=>kl.value=l),class:(0,t.C_)({active:a.id==(0,n.SU)(rl)}),onClick:e=>{var i;Ul(null===(i=l.childs)||void 0===i?void 0:i.name),(0,n.dq)(cl)?cl.value=!(0,n.SU)(cl):cl=!(0,n.SU)(cl),hl(a.id)}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(null===a||void 0===a?void 0:a.name),1)])),_:2},1032,["modelValue","class","onClick"])])),_:2},1024)):(0,i.kq)("",!0)])),_:2},1032,["onClick"])),[[o.F8,"LightsAndWater"!==(null===a||void 0===a?void 0:a.name)],[Zl]])])),_:2},1024)))),128))])],2)]),(0,i._)("div",H,[(0,i.Wm)(p,{flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"menu"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(fl),(a=>((0,i.wg)(),(0,i.j4)(v,{key:a.id},{default:(0,i.w5)((()=>[(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{clickable:"",onClick:l.onItemClick},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:kl.value,"onUpdate:modelValue":e[7]||(e[7]=l=>kl.value=l),onClick:l=>Ul(a.name)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(a.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1032,["onClick"])),[[o.F8,"LightsAndWater"!==a.name],[Zl]])])),_:2},1024)))),128))])),_:1})]),(0,i._)("div",S,[(0,i.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Home",onClick:e[8]||(e[8]=l=>ql("Home"))}),(0,i.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Lights And Water",onClick:e[9]||(e[9]=l=>(ql("LightsAndWater"),ol.value=!0))})]),(0,i._)("div",D,[(0,i.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green","no-caps":"",rounded:"",label:"FoodBasket",onClick:e[10]||(e[10]=l=>Cl())})])]),(0,i.Wm)(u,{color:"grey",size:"2px"})]),V,(0,i._)("div",Z,[(0,i._)("div",null,[null!==(g=(0,n.SU)(Hl))&&void 0!==g&&g.id?((0,i.wg)(),(0,i.iD)("div",L,[(0,n.SU)(Hl).image?((0,i.wg)(),(0,i.iD)("img",{key:0,src:(0,n.SU)(Hl).image,class:"addImage",onClick:e[11]||(e[11]=l=>xl((0,n.SU)(Hl).url))},null,8,Q)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",A,[(0,i.wy)((0,i._)("div",{class:"text-subtitle1",innerHTML:(0,n.SU)(Hl).description},null,8,F),[[o.F8,"null"!==(0,n.SU)(Hl).description]])],512),[[o.F8,(0,n.SU)(Hl).price>0||"null"!==(0,n.SU)(Hl).name]])])):((0,i.wg)(),(0,i.iD)("div",I,[yl.value&&null!==(Y=yl.value[0])&&void 0!==Y&&Y.id?((0,i.wg)(),(0,i.iD)("div",z,[null!==(j=yl.value[0])&&void 0!==j&&j.image?((0,i.wg)(),(0,i.iD)("img",{key:0,src:null===(K=yl.value[0])||void 0===K?void 0:K.image,class:"addImage",onClick:e[12]||(e[12]=l=>{var e;return xl(null===(e=yl.value[0])||void 0===e?void 0:e.url)})},null,8,M)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",B,[(0,i.wy)((0,i._)("div",{class:"text-subtitle1",innerHTML:null===(P=yl.value[0])||void 0===P?void 0:P.description},null,8,T),[[o.F8,"null"!==(null===(E=yl.value[0])||void 0===E?void 0:E.description)]])],512),[[o.F8,(null===(N=yl.value[0])||void 0===N?void 0:N.price)>0||"null"!==(null===(O=yl.value[0])||void 0===O?void 0:O.name)]])])):(0,i.kq)("",!0)]))])])])]})),_:1}),(0,i.Wm)(_l,{modelValue:d.value,"onUpdate:modelValue":e[13]||(e[13]=l=>d.value=l),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(gl,{class:"modalborder"},{default:(0,i.w5)((()=>[(0,i.Wm)(ul,{style:{"min-width":"290px"}},{default:(0,i.w5)((()=>[(0,n.SU)(vl).length||(0,n.SU)(wl)?((0,i.wg)(),(0,i.iD)("div",Y,[j,(0,i._)("div",K,[(0,i.wy)((0,i._)("div",P,' "Your scheduled meter reading is due. Please read and submit." ',512),[[o.F8,(0,n.SU)(wl)]]),(0,i.wy)((0,i.Wm)(u,{color:"grey"},null,512),[[o.F8,(0,n.SU)(wl)]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(vl),(l=>((0,i.wg)(),(0,i.iD)("div",{class:"",key:l.id},[(0,i._)("div",E,[(0,i._)("div",N,(0,t.zw)(l.message),1),(0,i._)("div",O,[(0,i.Wm)(s,{flat:"",class:"adsBtn",icon:"close",onClick:e=>bl(l.id)},null,8,["onClick"])])]),(0,i.Wm)(u,{color:"grey"})])))),128))])])):((0,i.wg)(),(0,i.iD)("div",G,"No Latest Notification"))])),_:1}),(0,i.Wm)(ml,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(s,{dense:"",label:"Done"},null,512),[[Zl]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(_l,{modelValue:g.value,"onUpdate:modelValue":e[16]||(e[16]=l=>g.value=l),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(gl,{class:"modalborder"},{default:(0,i.w5)((()=>[(0,i.Wm)(ul,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,[R,(0,i._)("div",$,[(0,i.Wm)(Vl,{inputmode:"numeric",color:"black",class:"q-mx-lg",mask:"### ### ####","fill-mask":"",modelValue:dl.value,"onUpdate:modelValue":e[14]||(e[14]=l=>dl.value=l),"input-style":{fontSize:"24px",textAlign:"center"}},null,8,["modelValue"])])])])),_:1}),(0,i.Wm)(ml,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(s,{flat:"",label:"Close","no-caps":""},null,512),[[Zl]]),(0,i.wy)((0,i.Wm)(s,{flat:"",label:"Open WhatsApp",onClick:e[15]||(e[15]=l=>Wl(dl.value)),"no-caps":""},null,512),[[Zl]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(_l,{modelValue:ol.value,"onUpdate:modelValue":e[18]||(e[18]=l=>ol.value=l),persistent:"",maximized:sl.value},{default:(0,i.w5)((()=>[(0,i.Wm)(gl,null,{default:(0,i.w5)((()=>[(0,i._)("div",J,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,n.SU)(Hl),(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id},[(0,i._)("img",{src:l.image,alt:"add-image1",class:"addImage",onClick:e=>xl(l.url)},null,8,X),(0,i.wy)((0,i._)("div",ll,[(0,i.wy)((0,i._)("div",{class:"ads_price text-h6"}," R "+(0,t.zw)(l.price),513),[[o.F8,l.price>0]]),(0,i.wy)((0,i._)("div",{class:"text-subtitle1",innerHTML:l.description},null,8,el),[[o.F8,"null"!==l.description]])],512),[[o.F8,l.price>0||"null"!==l.name]]),(0,i.wy)((0,i.Wm)(u,{color:"grey-4",size:"10px",class:"bottomLine"},null,512),[[o.F8,(0,n.SU)(Hl).length]])])))),128))]),(0,i._)("div",al,[(0,i.wy)((0,i.Wm)(s,{"no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"Home",icon:"arrow_back"},null,512),[[Zl]]),(0,i.Wm)(s,{"icon-right":"arrow_forward","no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"My Manager",onClick:e[17]||(e[17]=l=>Dl("send_reading"))})])])),_:1})])),_:1},8,["modelValue","maximized"]),(0,i.Wm)(_l,{modelValue:nl.value,"onUpdate:modelValue":e[19]||(e[19]=l=>nl.value=l),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(gl,{style:{"min-width":"280px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ul,null,{default:(0,i.w5)((()=>[il,tl])),_:1}),(0,i.Wm)(ml,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(s,{label:"Cancel",dense:"","no-caps":""},null,512),[[Zl]]),(0,i.Wm)(s,{label:"Logout",dense:"","no-caps":"",onClick:Sl},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var ol=a(1639),sl=a(9885),dl=a(8879),ul=a(990),cl=a(926),rl=a(3246),ml=a(490),vl=a(1233),pl=a(3115),wl=a(8479),gl=a(651),_l=a(7052),kl=a(1694),yl=a(1487),fl=a(3706),hl=a(4458),Wl=a(3190),Cl=a(1821),bl=a(6611),xl=a(1357),Ul=a(2146),ql=a(9984),Hl=a.n(ql);const Sl=(0,ol.Z)(nl,[["__scopeId","data-v-33b8eb9b"]]),Dl=Sl;Hl()(nl,"components",{QPage:sl.Z,QBtn:dl.Z,QBadge:ul.Z,QSeparator:cl.Z,QList:rl.Z,QItem:ml.Z,QItemSection:vl.Z,QItemLabel:pl.Z,QBtnDropdown:wl.Z,QExpansionItem:gl.Z,QCarousel:_l.Z,QCarouselSlide:kl.Z,QImg:yl.Z,QDialog:fl.Z,QCard:hl.Z,QCardSection:Wl.Z,QCardActions:Cl.Z,QInput:bl.Z,QAvatar:xl.Z}),Hl()(nl,"directives",{ClosePopup:Ul.Z})},7009:(l,e,a)=>{l.exports=a.p+"img/MyCity.a35cdb03.png"}}]);