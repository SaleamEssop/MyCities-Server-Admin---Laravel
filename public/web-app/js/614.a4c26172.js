"use strict";(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[614],{1614:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var l=a(9835);const o={class:"data-set-page"};function d(e,t,a,d,s,r){const n=(0,l.up)("DataSet");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(n)])}var s=a(1957),r=a(6970);const n=e=>((0,l.dD)("data-v-100405ac"),e=e(),(0,l.Cn)(),e),i=(0,l.Uk)("Home"),c={class:"q-pa-md",style:{"max-width":"100%"}},u={class:"q-mx-md dataSet-title"},m=n((()=>(0,l._)("span",{class:"q-mr-sm"}," Data Set Title : ",-1))),p={class:"row q-mb-md"},w={class:"bg-pink-3 data_set_name text-center col-3"},S={class:"col-9"},g={class:"justify-around row"},v={class:"data-set bg-purple-2 col-3"},_={class:"data-set bg-purple-2 col-3"},b={class:"data-set bg-purple-2 col-3"},D={class:"row justify-around q-mt-sm"},h={class:"data-set bg-blue-2 col-3"},f={class:"data-set bg-blue-2 col-3"},k={class:"data-set bg-blue-2 col-3"},y={class:"row q-mb-sm"},q={class:"col-3"},V={class:"q-ml-sm row",style:{height:"40px"}},x={class:"data-set q-mr-sm bg-purple-2 col-3"},W=n((()=>(0,l._)("div",{class:"data-set q-mr-xs bg-purple-2 col-3 cursor-pointer"}," Y ",-1))),C={clickable:"",class:"data-set col-3 cursor-pointer"},R={key:0,class:"col-9"},z={class:"justify-around row"},Z={class:"col-3"},F={class:"col-3"},U={class:"col-3"};function A(e,t,a,o,d,n){const A=(0,l.up)("q-btn"),N=(0,l.up)("q-toolbar-title"),Q=(0,l.up)("q-toolbar"),T=(0,l.up)("q-header"),H=(0,l.up)("q-card-actions"),I=(0,l.up)("q-input"),B=(0,l.up)("q-icon"),Y=(0,l.up)("q-separator");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(T,{elevated:"",class:"containerWidth"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A,{flat:"",dense:"",round:"",icon:"arrow_back","text-color":"black",onClick:t[0]||(t[0]=t=>e.$router.back())}),(0,l.Wm)(N,{class:"text-dark"},{default:(0,l.w5)((()=>[i])),_:1})])),_:1})])),_:1}),(0,l.wy)((0,l.Wm)(H,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{class:"q-mt-lg",label:"Add New DataSet",dense:"","no-caps":"",onClick:t[1]||(t[1]=t=>e.addNewDataSet())})])),_:1},512),[[s.F8,!e.getDataSetStore.length]]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.getDataSetStore,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"q-mb-sm",key:a.id},[(0,l._)("div",c,[(0,l.Wm)(I,{outlined:"",rows:"3",modelValue:a.commentSection,"onUpdate:modelValue":e=>a.commentSection=e,type:"textarea",placeholder:"This is commenting section"},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("div",u,[m,(0,l.Wm)(I,{dense:"",outlined:"",modelValue:a.title,"onUpdate:modelValue":e=>a.title=e,style:{"max-width":"200px"},"input-style":{fontSize:"16px"}},null,8,["modelValue","onUpdate:modelValue"])]),(0,l.Wm)(H,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A,{flat:"","no-caps":"",style:{"font-size":"16px"},label:a.addRow,color:"deep-purple-12",onClick:t=>e.addNewRow(a.id)},null,8,["label","onClick"]),(0,l.Wm)(A,{flat:"","no-caps":"",style:{"font-size":"16px"},label:a.addNewdataSet,color:"deep-purple-12",onClick:t[2]||(t[2]=t=>e.addNewDataSet())},null,8,["label"]),(0,l.Wm)(A,{flat:"","no-caps":"",style:{"font-size":"16px"},label:a.deleteDataSet,color:"deep-purple-12",onClick:t=>e.deleteDataSetStore(a.id)},null,8,["label","onClick"])])),_:2},1024),(0,l._)("div",p,[(0,l._)("div",w,(0,r.zw)(a.alphabet),1),(0,l._)("div",S,[(0,l._)("div",g,[(0,l._)("div",v,(0,r.zw)(a.columnA),1),(0,l._)("div",_,(0,r.zw)(a.columnB),1),(0,l._)("div",b,(0,r.zw)(a.columnX),1)]),(0,l._)("div",D,[(0,l._)("div",h,(0,r.zw)(a.description),1),(0,l._)("div",f,(0,r.zw)(a.formula),1),(0,l._)("div",k,(0,r.zw)(a.result),1)])])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.rows,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[(0,l._)("div",y,[(0,l._)("div",q,[(0,l._)("div",V,[(0,l._)("div",x,(0,r.zw)(t.name),1),W,(0,l._)("div",C,[(0,l.Wm)(B,{size:"sm",name:"delete",onClick:l=>e.deleteRow(t.id,a.id)},null,8,["onClick"])])])]),e.calculateForRow?((0,l.wg)(),(0,l.iD)("div",R,[(0,l._)("div",z,[(0,l._)("div",Z,[(0,l.Wm)(I,{dense:"",outlined:"",modelValue:t.rowDescription,"onUpdate:modelValue":e=>t.rowDescription=e},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("div",F,[(0,l.Wm)(I,{dense:"",outlined:"",autogrow:"",modelValue:t.rowFormula,"onUpdate:modelValue":e=>t.rowFormula=e},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("div",U,[(0,l.Wm)(I,{dense:"",outlined:"",modelValue:t.rowResult,"onUpdate:modelValue":e=>t.rowResult=e},null,8,["modelValue","onUpdate:modelValue"])])])])):(0,l.kq)("",!0)])])))),128)),(0,l.Wm)(Y,{color:"grey q-mt-md",size:"5px"})])))),128))],64)}var N=a(3746);const Q=(0,N.Q_)("dataStore",{state:()=>({dataSetStore:[]}),getters:{getdataSetStore:e=>e.dataSetStore},actions:{addDataStore(e){this.dataSetStore=e},deleteDataSet(e){let t=this.dataSetStore.findIndex((({id:t})=>e==t));t>-1&&this.dataSetStore.splice(t,1)},deleteDataSetRow(e,t){this.dataSetStore.forEach((({id:a,rows:l})=>{if(t===a){let t=l.findIndex((({id:t})=>e==t));t>-1&&l.splice(t,1)}}))}},persist:!0});var T=a(499),H=(a(1530),a(9302));const I=(0,l.aZ)({name:"DataSet",setup(){const e=Q(),t=(0,H.Z)(),o=(0,l.Fl)((()=>e.dataSetStore));var d=a(4355)._b;const s=(0,T.iH)([]),r=()=>{let t=65;s.value.push({id:s.value.length+1,alphabet:String.fromCharCode(t+s.value.length),title:"",columnA:"A",columnB:"B",columnX:"X",commentSection:"",description:"Description",formula:"Formula",result:"Result(kl)",addRow:"Add Row",addNewdataSet:"Add New DataSets",deleteDataSet:"Delete",rows:[]}),e.addDataStore(s.value)},n=e=>{o.value.map((t=>{if(e===t.id){let e=`${t.alphabet}${t.rows.length+1}`;t.rows.push({id:t.rows.length+1,name:e,description:"text",formula:"textarea",result:"number",rowDescription:null,rowFormula:null,rowResult:null})}}))},i=(0,l.Fl)((()=>{let e=o.value.map((e=>{e.rows.map((e=>{var t=0;if(!e.rowFormula)return t;try{t=d.evaluate(e.rowFormula.toString())}catch(a){t=0}return e.rowResult=t||0}))}));return e})),c=a=>{t.dialog({title:"Confirm",message:"Are you sure you want to delete this DataSet?",cancel:!0,persistent:!0}).onOk((()=>{e.deleteDataSet(a)}))},u=(a,l)=>{t.dialog({title:"Confirm",message:"Are you sure you want to delete this row? This may change your calculation.",cancel:!0,persistent:!0}).onOk((()=>{e.deleteDataSetRow(a,l)}))};return{addNewDataSet:r,dataSets:s,getDataSetStore:o,deleteDataSetStore:c,addNewRow:n,deleteRow:u,calculateForRow:i}}});var B=a(1639),Y=a(6602),j=a(1663),X=a(8879),$=a(1973),K=a(1821),O=a(6611),E=a(2857),P=a(926),G=a(9984),J=a.n(G);const L=(0,B.Z)(I,[["render",A],["__scopeId","data-v-100405ac"]]),M=L;J()(I,"components",{QHeader:Y.Z,QToolbar:j.Z,QBtn:X.Z,QToolbarTitle:$.Z,QCardActions:K.Z,QInput:O.Z,QIcon:E.Z,QSeparator:P.Z});const ee=(0,l.aZ)({components:{DataSet:M},name:"DataSetPage"}),te=(0,B.Z)(ee,[["render",d],["__scopeId","data-v-142838a8"]]),ae=te}}]);