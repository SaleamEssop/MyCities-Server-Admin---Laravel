(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[57],{2057:(l,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>Dl});t(8964);var a=t(9835),s=t(499),n=t(6970),i=t(1957),o=t(7009),c=t.n(o),d=t(9302),u=t(8339),m=t(6144),r=t(7047),p=t(5157),w=t(6190),v=t(4170);const _=l=>((0,a.dD)("data-v-0d4b0142"),l=l(),(0,a.Cn)(),l),g={class:"container"},f={class:"header"},W=_((()=>(0,a._)("img",{class:"q-px-lg titleIcon",src:c()},null,-1))),y=_((()=>(0,a._)("div",{class:"regionTitle"},"Ethekwini Region",-1))),x={class:"ads_main"},k={class:"text-center"},h={class:"text-center"},b={class:"text-center"},C={class:"text-center"},q={class:"text-center"},U={class:"text-center"},H={class:"row menuContain"},I={class:"text-center q-pt-xs menuItem"},Z={class:"text-center q-pt-xs menuItem"},S={class:"text-center q-pt-xs menuItem"},D={class:"text-center q-pt-xs menuItem"},F={style:{width:"180px"}},Q=(0,a.Uk)("Email"),A=(0,a.Uk)("WhatsApp"),V=(0,a.Uk)("Call"),z=(0,a.Uk)("Email"),L=(0,a.Uk)("WhatsApp"),B=(0,a.Uk)("Call"),M={class:"text-center q-pt-xs menuItem"},j={class:"ads"},E=["innerHTML"],R=["src","onClick"],Y={class:"add_description_scroll"},T={key:0},N=_((()=>(0,a._)("div",{class:"text-h6 text-center"},"Get Latest Notification",-1))),P={class:"q-mt-lg"},K={class:"dueMessage"},O={class:"row no-wrap"},G={class:"col text-subtitle1 q-py-sm"},$={class:"col-auto markAsread q-pl-lg"},J={key:1,class:"text-h6 text-center"},X=_((()=>(0,a._)("div",{class:"text-h6 text-center"}," Enter the number you want to Whatsapp ",-1))),ll={class:"q-mt-lg"},el={class:"ads dialogAds"},tl=["src","onClick"],al={class:"add_description_scroll"},sl={class:"btnLightAndWater"},nl=_((()=>(0,a._)("span",{class:"text-h6"},"Logout",-1))),il=_((()=>(0,a._)("div",{class:"q-mt-sm"},"Are you sure you want to Logout?",-1))),ol={__name:"IndexPage",setup(l){const e=(0,u.tv)(),t=(0,m.L)(),o=(0,r.H)(),c=(0,s.iH)(!1),_=(0,s.iH)(!1),ol=((0,s.iH)(!1),(0,s.iH)(!1)),cl=(0,s.iH)(!1),dl=(0,s.iH)(!0),ul=(0,s.iH)(""),ml=(0,w.c)(),rl=(0,p.c)(),pl=(0,a.Fl)((()=>rl.getAlarms)),wl=(0,a.Fl)((()=>{var l;let e=!1;return null===(l=ml.accounts[0])||void 0===l||l.defaultFixedCost.map((l=>{var t;if("Enter Your Billing Date"===(null===(t=l.fixed_cost)||void 0===t?void 0:t.title)){const t=v.ZP.formatDate(new Date,"DD");l.value-7<=t&&t<=l.value-5&&(e=!0)}})),e})),vl=(0,s.iH)(null),_l=((0,s.iH)(!0),(0,d.Z)()),gl=((0,s.iH)(""),(0,s.iH)("")),fl=(0,s.iH)(null),Wl=(0,a.Fl)((()=>o.getAds)),yl=l=>{window.open(`https://api.whatsapp.com/send?phone=+27${l}&text=Hello`),ul.value=""},xl=()=>{window.open("https://www.facebook.com/groups/982841062697878")},kl=()=>{window.open("https://www.youtube.com/@mycity3924")},hl=l=>{let e="mailto:"+encodeURI(l);window.open(e,"_blank")},bl=l=>{let e="tel:+27"+encodeURI(l);window.open(e,"_blank")},Cl=l=>{let e=pl.value.findIndex((({id:l})=>l==l));l>-1&&pl.value.splice(e,1)},ql=l=>"www"===l?void 0:(l.match(/^https?:\/\//i)||(l="http://"+l),window.open(l,"_blank")),Ul=()=>{if(navigator.share)navigator.share({title:"MyCityApp",url:"https://play.google.com/store/apps/details?id=com.light.water.app"}).then((()=>console.log("Successful share"))).catch((l=>console.log("Error sharing",l)));else{let l="https://play.google.com/store/apps/details?id=com.light.water.app",e="shareto://water.meter.power.meter/?title="+encodeURI("MyCityApp")+"&msg="+encodeURI(l);window.open(e)}},Hl=l=>{var e,t;let a=Wl.value.filter((e=>e["name"]===l));vl.value=null===(e=a[0].ads[0])||void 0===e?void 0:e.id,fl.value=null===(t=a[0])||void 0===t?void 0:t.ads},Il=(0,a.Fl)((()=>{if(null!==fl.value)return fl.value;{var l;let e=Wl.value.filter((l=>"Home"===l["name"]));return e.findIndex((({ads:l})=>{var e;vl.value=null===(e=l[0])||void 0===e?void 0:e.id})),null===(l=e[0])||void 0===l?void 0:l.ads}})),Zl=()=>{setTimeout((()=>{t.signOut(),e.push("/auth/login").then((()=>{_l.notify({message:"Signed out"})})).catch((l=>console.log("error",l))),timer=void 0}),1e3)};(0,s.iH)([{title:"AppartmentMeter 409",icon:"water",type:{title:"Water",id:1}},{title:"AppartmentMeter 410",icon:"water",type:{title:"Water",id:1}}]);function Sl(l){e.push({name:l})}return(l,e)=>{const o=(0,a.up)("q-btn"),d=(0,a.up)("q-separator"),u=(0,a.up)("q-item-label"),m=(0,a.up)("q-item-section"),r=(0,a.up)("q-item"),p=(0,a.up)("q-list"),w=(0,a.up)("q-btn-dropdown"),v=(0,a.up)("q-badge"),ml=(0,a.up)("q-expansion-item"),rl=(0,a.up)("q-page"),vl=(0,a.up)("q-card-section"),_l=(0,a.up)("q-card-actions"),fl=(0,a.up)("q-card"),Dl=(0,a.up)("q-dialog"),Fl=(0,a.up)("q-input"),Ql=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(rl,null,{default:(0,a.w5)((()=>{var T,N,P,K;return[(0,a.Wm)(o,{icon:"settings_power",style:{position:"absolute",right:"10px",top:"10px"},round:"",onClick:e[0]||(e[0]=l=>ol.value=!0)}),(0,a._)("div",g,[(0,a._)("div",f,[W,y,(0,a.Wm)(d,{color:"grey q-mt-sm",size:"2px"}),(0,a._)("div",x,[(0,a._)("div",k,[(0,a.Wm)(w,{flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"menu"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(Wl),(t=>((0,a.wg)(),(0,a.j4)(p,{key:t.id},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{clickable:"",onClick:l.onItemClick},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:gl.value,"onUpdate:modelValue":e[1]||(e[1]=l=>gl.value=l),onClick:l=>Hl(t.name)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1032,["onClick"])),[[i.F8,"LightsAndWater"!==t.name],[Ql]])])),_:2},1024)))),128))])),_:1})]),(0,a._)("div",h,[(0,a.Wm)(o,{onClick:e[2]||(e[2]=l=>c.value=!0),flat:"",icon:"notifications",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{floating:"",color:"red",rounded:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)((0,s.SU)(wl)?(0,s.SU)(pl).length+1:(0,s.SU)(pl).length),1)])),_:1})])),_:1})]),(0,a._)("div",b,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"share",flat:"",onClick:e[3]||(e[3]=l=>Ul())})]),(0,a._)("div",C,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"facebook",flat:"",onClick:e[4]||(e[4]=l=>xl())})]),(0,a._)("div",q,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"smart_display",flat:"",onClick:e[5]||(e[5]=l=>kl())})]),(0,a._)("div",U,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"help",flat:"",onClick:e[6]||(e[6]=l=>Hl("Help"))})])]),(0,a.Wm)(d,{color:"grey",size:"8px"})]),(0,a._)("div",null,[(0,a._)("div",H,[(0,a._)("div",I,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-sm","no-caps":"",flat:"",label:"LightsandWater",onClick:e[7]||(e[7]=l=>(Hl("LightsAndWater"),cl.value=!0))})]),(0,a.Wm)(d,{vertical:"",inset:""}),(0,a.wy)((0,a._)("div",Z,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-sm","no-caps":"",flat:"",label:"DataSet",onClick:e[8]||(e[8]=l=>Sl("data-set"))})],512),[[i.F8,44===(null===(T=(0,s.SU)(t))||void 0===T||null===(N=T.user)||void 0===N?void 0:N.id)]]),(0,a.wy)((0,a.Wm)(d,{vertical:"",inset:""},null,512),[[i.F8,44===(null===(P=(0,s.SU)(t))||void 0===P||null===(K=P.user)||void 0===K?void 0:K.id)]]),(0,a._)("div",S,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-sm","no-caps":"",flat:"",label:"News",onClick:e[9]||(e[9]=l=>Hl("News"))})]),(0,a.Wm)(d,{vertical:"",inset:""}),(0,a._)("div",D,[(0,a.Wm)(w,{"no-caps":"",label:"Faults",class:"col-xs-6 col-sm-6 q-my-sm",flat:""},{default:(0,a.w5)((()=>[(0,a._)("div",F,[(0,a.Wm)(ml,{label:"Electricity Faults","content-inset-level":.3,group:"accordion"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{clickable:"",onClick:e[10]||(e[10]=l=>hl("electricity.faults@durban.gov.za"))},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[Q])),_:1})])),_:1})])),_:1})),[[Ql]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{clickable:"",onClick:e[11]||(e[11]=l=>yl("767912449"))},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[A])),_:1})])),_:1})])),_:1})),[[Ql]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{clickable:"",onClick:e[12]||(e[12]=l=>bl("080 311 1111"))},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[V])),_:1})])),_:1})])),_:1})),[[Ql]])])),_:1})])),_:1},8,["content-inset-level"]),(0,a.Wm)(ml,{group:"accordion",label:"Water Faults","content-inset-level":.3},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{clickable:"",onClick:e[13]||(e[13]=l=>hl("eservices@durban.gov.za"))},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[z])),_:1})])),_:1})])),_:1})),[[Ql]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{clickable:"",onClick:e[14]||(e[14]=l=>yl("731483477"))},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[L])),_:1})])),_:1})])),_:1})),[[Ql]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{clickable:"",onClick:e[15]||(e[15]=l=>bl("080 1313013"))},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[B])),_:1})])),_:1})])),_:1})),[[Ql]])])),_:1})])),_:1},8,["content-inset-level"])])])),_:1})]),(0,a.Wm)(d,{vertical:"",inset:""}),(0,a._)("div",M,[(0,a.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-sm","no-caps":"",flat:"",label:"WhatsApp",onClick:e[16]||(e[16]=l=>_.value=!0)})])])]),(0,a._)("div",j,[(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(Il),(l=>((0,a.wg)(),(0,a.iD)("div",{key:l.id},[(0,a._)("div",{class:"q-px-md",innerHTML:l.description},null,8,E),(0,a._)("img",{src:l.image,alt:"add-image",class:"addImage",onClick:e=>ql(l.url)},null,8,R),(0,a.wy)((0,a._)("div",Y,[(0,a.wy)((0,a._)("div",{class:"ads_price text-h6"}," R "+(0,n.zw)(l.price),513),[[i.F8,l.price>0]]),(0,a.wy)((0,a._)("div",{class:"text-subtitle1"},(0,n.zw)(l.name),513),[[i.F8,"null"!==l.name]])],512),[[i.F8,l.price>0||"null"!==l.name]]),(0,a.Wm)(d,{color:"grey-4",size:"10px",class:"bottomLine"})])))),128))])])])]})),_:1}),(0,a.Wm)(Dl,{modelValue:c.value,"onUpdate:modelValue":e[17]||(e[17]=l=>c.value=l),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(fl,{class:"modalborder"},{default:(0,a.w5)((()=>[(0,a.Wm)(vl,{style:{"min-width":"290px"}},{default:(0,a.w5)((()=>[(0,s.SU)(pl).length||(0,s.SU)(wl)?((0,a.wg)(),(0,a.iD)("div",T,[N,(0,a._)("div",P,[(0,a.wy)((0,a._)("div",K,' "Your scheduled meter reading is due. Please read and submit." ',512),[[i.F8,(0,s.SU)(wl)]]),(0,a.wy)((0,a.Wm)(d,{color:"grey"},null,512),[[i.F8,(0,s.SU)(wl)]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(pl),(l=>((0,a.wg)(),(0,a.iD)("div",{class:"",key:l.id},[(0,a._)("div",O,[(0,a._)("div",G,(0,n.zw)(l.message),1),(0,a._)("div",$,[(0,a.Wm)(o,{flat:"",class:"adsBtn",icon:"close",onClick:e=>Cl(l.id)},null,8,["onClick"])])]),(0,a.Wm)(d,{color:"grey"})])))),128))])])):((0,a.wg)(),(0,a.iD)("div",J,"No Latest Notification"))])),_:1}),(0,a.Wm)(_l,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{dense:"",label:"Done"},null,512),[[Ql]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Dl,{modelValue:_.value,"onUpdate:modelValue":e[20]||(e[20]=l=>_.value=l),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(fl,{class:"modalborder"},{default:(0,a.w5)((()=>[(0,a.Wm)(vl,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[X,(0,a._)("div",ll,[(0,a.Wm)(Fl,{inputmode:"numeric",color:"black",class:"q-mx-lg",mask:"### ### ####","fill-mask":"",modelValue:ul.value,"onUpdate:modelValue":e[18]||(e[18]=l=>ul.value=l),"input-style":{fontSize:"24px",textAlign:"center"}},null,8,["modelValue"])])])])),_:1}),(0,a.Wm)(_l,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Close","no-caps":""},null,512),[[Ql]]),(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Open WhatsApp",onClick:e[19]||(e[19]=l=>yl(ul.value)),"no-caps":""},null,512),[[Ql]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Dl,{modelValue:cl.value,"onUpdate:modelValue":e[23]||(e[23]=l=>cl.value=l),persistent:"",maximized:dl.value},{default:(0,a.w5)((()=>[(0,a.Wm)(fl,null,{default:(0,a.w5)((()=>[(0,a._)("div",el,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(Il),(l=>((0,a.wg)(),(0,a.iD)("div",{key:l.id},[(0,a._)("img",{src:l.image,alt:"add-image",class:"addImage",onClick:e=>ql(l.url)},null,8,tl),(0,a.wy)((0,a._)("div",al,[(0,a.wy)((0,a._)("div",{class:"ads_price text-h6"}," R "+(0,n.zw)(l.price),513),[[i.F8,l.price>0]]),(0,a.wy)((0,a._)("div",{class:"text-subtitle1"},(0,n.zw)(l.name),513),[[i.F8,"null"!==l.name]])],512),[[i.F8,l.price>0||"null"!==l.name]]),(0,a.wy)((0,a.Wm)(d,{color:"grey-4",size:"10px",class:"bottomLine"},null,512),[[i.F8,(0,s.SU)(Il).length]])])))),128))]),(0,a._)("div",sl,[(0,a.wy)((0,a.Wm)(o,{"no-caps":"",color:"primary",rounded:"",class:"text-black fit-content",label:"Home",onClick:e[21]||(e[21]=l=>Hl("Home")),icon:"arrow_back"},null,512),[[Ql]]),(0,a.Wm)(o,{"icon-right":"arrow_forward","no-caps":"",color:"primary",rounded:"",class:"text-black fit-content",label:"My Manager",onClick:e[22]||(e[22]=l=>Sl("send_reading"))})])])),_:1})])),_:1},8,["modelValue","maximized"]),(0,a.Wm)(Dl,{modelValue:ol.value,"onUpdate:modelValue":e[24]||(e[24]=l=>ol.value=l),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(fl,{style:{"min-width":"280px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(vl,null,{default:(0,a.w5)((()=>[nl,il])),_:1}),(0,a.Wm)(_l,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{label:"Cancel",dense:"","no-caps":""},null,512),[[Ql]]),(0,a.Wm)(o,{label:"Logout",dense:"","no-caps":"",onClick:Zl})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var cl=t(1639),dl=t(9885),ul=t(8879),ml=t(926),rl=t(8479),pl=t(3246),wl=t(490),vl=t(1233),_l=t(3115),gl=t(990),fl=t(651),Wl=t(7052),yl=t(1694),xl=t(1487),kl=t(2074),hl=t(4458),bl=t(3190),Cl=t(1821),ql=t(6611),Ul=t(1357),Hl=t(2146),Il=t(9984),Zl=t.n(Il);const Sl=(0,cl.Z)(ol,[["__scopeId","data-v-0d4b0142"]]),Dl=Sl;Zl()(ol,"components",{QPage:dl.Z,QBtn:ul.Z,QSeparator:ml.Z,QBtnDropdown:rl.Z,QList:pl.Z,QItem:wl.Z,QItemSection:vl.Z,QItemLabel:_l.Z,QBadge:gl.Z,QExpansionItem:fl.Z,QCarousel:Wl.Z,QCarouselSlide:yl.Z,QImg:xl.Z,QDialog:kl.Z,QCard:hl.Z,QCardSection:bl.Z,QCardActions:Cl.Z,QInput:ql.Z,QAvatar:Ul.Z}),Zl()(ol,"directives",{ClosePopup:Hl.Z})},7009:(l,e,t)=>{l.exports=t.p+"img/MyCity.a053a78f.png"}}]);