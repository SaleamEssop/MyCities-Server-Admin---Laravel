(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[57],{2057:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>Ue});a(8964);var t=a(9835),i=a(6970),n=a(499),s=a(1957),o=a(7009),d=a.n(o),c=a(9302),u=a(8339),r=a(6144),m=a(7047),p=a(5157),v=a(6190),w=a(4170);const g=e=>((0,t.dD)("data-v-77c6be16"),e=e(),(0,t.Cn)(),e),_={class:"container"},k={class:"header"},f={class:"header-top-container d-flex align-items-center"},y={class:"header-left-top"},h=g((()=>(0,t._)("div",{class:"logo-container"},[(0,t._)("img",{class:"q-px-lg titleIcon",src:d()})],-1))),W={class:"text-center"},C={class:"ads_main"},x={class:"text-center"},U={class:"sidebar-menu-wrapper"},b={class:"sidebar-top-header"},S={class:"username"},q={class:"text-center",style:{display:"none"}},H={class:"text-center"},V={class:"text-center",style:{display:"none"}},Z=g((()=>(0,t._)("div",null,null,-1))),D={class:"ads"},Q={key:0,class:"adv-item"},L=["src"],A={class:"add_description_scroll"},F=["innerHTML"],I={key:0},z=g((()=>(0,t._)("div",{class:"text-h6 text-center"},"Get Latest Notification",-1))),M={class:"q-mt-lg"},B={class:"dueMessage"},Y={class:"row no-wrap"},j={class:"col text-subtitle1 q-py-sm"},T={class:"col-auto markAsread q-pl-lg"},K={key:1,class:"text-h6 text-center"},P=g((()=>(0,t._)("div",{class:"text-h6 text-center"}," Enter the number you want to Whatsapp ",-1))),E={class:"q-mt-lg"},N={class:"ads dialogAds"},O=["src","onClick"],G={class:"add_description_scroll"},R=["innerHTML"],$={class:"btnLightAndWater"},J=g((()=>(0,t._)("span",{class:"text-h6"},"Logout",-1))),X=g((()=>(0,t._)("div",{class:"q-mt-sm"},"Are you sure you want to Logout?",-1))),ee={__name:"IndexPage",setup(e){const l=(0,u.tv)(),a=(0,r.L)(),o=(0,m.H)(),d=(0,n.iH)(!1),g=(0,n.iH)(!1),ee=((0,n.iH)(!1),(0,n.iH)(!1)),le=(0,n.iH)(!1),ae=(0,n.iH)(!0),te=(0,n.iH)(""),ie=(0,v.c)();let ne=(0,n.iH)(!1),se=((0,n.iH)(!1),(0,n.iH)(0));const oe=(0,p.c)(),de=(0,t.Fl)((()=>oe.getAlarms)),ce=a.getUser,ue=(0,t.Fl)((()=>{var e;let l=!1;return null===(e=ie.accounts[0])||void 0===e||e.defaultFixedCost.map((e=>{var a;if("Enter Your Billing Date"===(null===(a=e.fixed_cost)||void 0===a?void 0:a.title)){const a=w.ZP.formatDate(new Date,"DD");e.value-7<=a&&a<=e.value-5&&(l=!0)}})),l})),re=(0,n.iH)(null),me=((0,n.iH)(!0),(0,c.Z)()),pe=((0,n.iH)(""),(0,n.iH)("")),ve=(0,n.iH)(null),we=(0,t.Fl)((()=>o.getAds)),ge=e=>{se.value=e},_e=e=>{window.open(`https://api.whatsapp.com/send?phone=+27${e}&text=Hello`),te.value=""},ke=()=>{window.open("http://167.172.65.248")},fe=e=>{let l=de.value.findIndex((({id:e})=>e==e));e>-1&&de.value.splice(l,1)},ye=e=>"www"===e?void 0:(e.match(/^https?:\/\//i)||(e="http://"+e),window.open(e,"_blank")),he=e=>{const l=new Array;we.value.filter((a=>{a["id"]==e&&l.push(a)}));ve.value=l[0].ads[0],console.log(ve)},We=e=>{var l,a;new Array;let t=we.value.filter((l=>l["name"]===e));re.value=null===(l=t[0].ads[0])||void 0===l?void 0:l.id,ve.value=null===(a=t[0])||void 0===a?void 0:a.ads},Ce=(0,t.Fl)((()=>{if(console.log(Ce),null!==ve.value)return ve.value;{let e=we.value.filter((e=>"Home"===e["name"]));return e.findIndex((({ads:e})=>{var l;re.value=null===(l=e[0])||void 0===l?void 0:l.id})),[]}}));console.log(Ce);const xe=()=>{setTimeout((()=>{a.signOut(),l.push("/auth/login").then((()=>{me.notify({message:"Signed out"})})).catch((e=>console.log("error",e))),timer=void 0}),1e3)};(0,n.iH)([{title:"AppartmentMeter 409",icon:"water",type:{title:"Water",id:1}},{title:"AppartmentMeter 410",icon:"water",type:{title:"Water",id:1}}]);function Ue(e){l.push({name:e})}return(e,l)=>{const a=(0,t.up)("q-badge"),o=(0,t.up)("q-btn"),c=(0,t.up)("q-separator"),u=(0,t.up)("q-item-label"),r=(0,t.up)("q-item-section"),m=(0,t.up)("q-item"),p=(0,t.up)("q-list"),v=(0,t.up)("q-btn-dropdown"),w=(0,t.up)("q-page"),ie=(0,t.up)("q-card-section"),oe=(0,t.up)("q-card-actions"),re=(0,t.up)("q-card"),me=(0,t.up)("q-dialog"),ve=(0,t.up)("q-input"),be=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>{var w,g;return[(0,t._)("div",_,[(0,t._)("div",k,[(0,t._)("div",f,[(0,t._)("div",y,[h,(0,t._)("div",W,[(0,t.Wm)(o,{onClick:l[0]||(l[0]=e=>d.value=!0),flat:"",icon:"notifications",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{floating:"",color:"red",rounded:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,n.SU)(ue)?(0,n.SU)(de).length+1:(0,n.SU)(de).length),1)])),_:1})])),_:1})])]),(0,t.Wm)(o,{icon:"settings_power",round:"",onClick:l[1]||(l[1]=e=>ee.value=!0)})]),(0,t.Wm)(c,{color:"grey q-mt-sm",size:"2px"}),(0,t._)("div",C,[(0,t._)("div",x,[(0,t.Wm)(o,{onClick:l[2]||(l[2]=e=>(0,n.dq)(ne)?ne.value=!(0,n.SU)(ne):ne=!(0,n.SU)(ne)),icon:"menu",flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"}),(0,t._)("div",{class:(0,i.C_)([{open:(0,n.SU)(ne)},"sidebar-fullscreen text-left"])},[(0,t._)("div",{class:"overlay",onClick:l[3]||(l[3]=e=>(0,n.dq)(ne)?ne.value=!1:ne=!1)}),(0,t._)("div",U,[(0,t._)("div",b,[(0,t._)("span",S,(0,i.zw)(null===(w=(0,n.SU)(ce))||void 0===w?void 0:w.name),1),(0,t.Wm)(o,{icon:"close",onClick:l[4]||(l[4]=e=>(0,n.dq)(ne)?ne.value=!1:ne=!1)})]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(we),(a=>((0,t.wg)(),(0,t.j4)(p,{key:a.id},{default:(0,t.w5)((()=>[a.childs.length>0?(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{key:0,clickable:"",onClick:e.onChildItemClick,class:(0,i.C_)(a.childs.length>0?"submenu":"")},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:(0,i.C_)({active:a.id==(0,n.SU)(se)}),onClick:e=>ge(a.id)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.name),1)])),_:2},1032,["class","onClick"]),(0,t._)("div",{class:(0,i.C_)(["sub-menu-items",{active:a.id==(0,n.SU)(se)}])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.childs,(e=>((0,t.wg)(),(0,t.j4)(p,{key:e.id},{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:pe.value,"onUpdate:modelValue":l[5]||(l[5]=e=>pe.value=e),onClick:l=>{he(e.id),(0,n.dq)(ne)?ne.value=!(0,n.SU)(ne):ne=!(0,n.SU)(ne)}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))],2)])),_:2},1024)])),_:2},1032,["onClick","class"])),[[s.F8,"LightsAndWater"!==a.name],[be]]):(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{key:1,clickable:"",onClick:e.onItemClick},{default:(0,t.w5)((()=>[null==a.parent_id?((0,t.wg)(),(0,t.j4)(r,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:pe.value,"onUpdate:modelValue":l[6]||(l[6]=e=>pe.value=e),class:(0,i.C_)({active:a.id==(0,n.SU)(se)}),onClick:l=>{he(e.childs.name),(0,n.dq)(ne)?ne.value=!(0,n.SU)(ne):ne=!(0,n.SU)(ne),ge(a.id)}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.name)+"sss",1)])),_:2},1032,["modelValue","class","onClick"])])),_:2},1024)):(0,t.kq)("",!0)])),_:2},1032,["onClick"])),[[s.F8,"LightsAndWater"!==a.name],[be]])])),_:2},1024)))),128))])],2)]),(0,t._)("div",q,[(0,t.Wm)(v,{flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"menu"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(we),(a=>((0,t.wg)(),(0,t.j4)(p,{key:a.id},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",onClick:e.onItemClick},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:pe.value,"onUpdate:modelValue":l[7]||(l[7]=e=>pe.value=e),onClick:e=>he(a.name)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1032,["onClick"])),[[s.F8,"LightsAndWater"!==a.name],[be]])])),_:2},1024)))),128))])),_:1})]),(0,t._)("div",H,[(0,t.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Light & Water",onClick:l[8]||(l[8]=e=>(We("LightsAndWater"),le.value=!0))})]),(0,t._)("div",V,[(0,t.Wm)(o,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green","no-caps":"",rounded:"",label:"FoodBasket",onClick:l[9]||(l[9]=e=>ke())})])]),(0,t.Wm)(c,{color:"grey",size:"2px"})]),Z,(0,t._)("div",D,[(0,t._)("div",null,[null!==(g=(0,n.SU)(Ce))&&void 0!==g&&g.id?((0,t.wg)(),(0,t.iD)("div",Q,[(0,n.SU)(Ce).image?((0,t.wg)(),(0,t.iD)("img",{key:0,src:(0,n.SU)(Ce).image,class:"addImage",onClick:l[10]||(l[10]=e=>ye((0,n.SU)(Ce).url))},null,8,L)):(0,t.kq)("",!0),(0,t.wy)((0,t._)("div",A,[(0,t.wy)((0,t._)("div",{class:"text-subtitle1",innerHTML:(0,n.SU)(Ce).description},null,8,F),[[s.F8,"null"!==(0,n.SU)(Ce).description]])],512),[[s.F8,(0,n.SU)(Ce).price>0||"null"!==(0,n.SU)(Ce).name]])])):(0,t.kq)("",!0)])])])]})),_:1}),(0,t.Wm)(me,{modelValue:d.value,"onUpdate:modelValue":l[11]||(l[11]=e=>d.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(re,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(ie,{style:{"min-width":"290px"}},{default:(0,t.w5)((()=>[(0,n.SU)(de).length||(0,n.SU)(ue)?((0,t.wg)(),(0,t.iD)("div",I,[z,(0,t._)("div",M,[(0,t.wy)((0,t._)("div",B,' "Your scheduled meter reading is due. Please read and submit." ',512),[[s.F8,(0,n.SU)(ue)]]),(0,t.wy)((0,t.Wm)(c,{color:"grey"},null,512),[[s.F8,(0,n.SU)(ue)]]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(de),(e=>((0,t.wg)(),(0,t.iD)("div",{class:"",key:e.id},[(0,t._)("div",Y,[(0,t._)("div",j,(0,i.zw)(e.message),1),(0,t._)("div",T,[(0,t.Wm)(o,{flat:"",class:"adsBtn",icon:"close",onClick:l=>fe(e.id)},null,8,["onClick"])])]),(0,t.Wm)(c,{color:"grey"})])))),128))])])):((0,t.wg)(),(0,t.iD)("div",K,"No Latest Notification"))])),_:1}),(0,t.Wm)(oe,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(o,{dense:"",label:"Done"},null,512),[[be]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(me,{modelValue:g.value,"onUpdate:modelValue":l[14]||(l[14]=e=>g.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(re,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[P,(0,t._)("div",E,[(0,t.Wm)(ve,{inputmode:"numeric",color:"black",class:"q-mx-lg",mask:"### ### ####","fill-mask":"",modelValue:te.value,"onUpdate:modelValue":l[12]||(l[12]=e=>te.value=e),"input-style":{fontSize:"24px",textAlign:"center"}},null,8,["modelValue"])])])])),_:1}),(0,t.Wm)(oe,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(o,{flat:"",label:"Close","no-caps":""},null,512),[[be]]),(0,t.wy)((0,t.Wm)(o,{flat:"",label:"Open WhatsApp",onClick:l[13]||(l[13]=e=>_e(te.value)),"no-caps":""},null,512),[[be]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(me,{modelValue:le.value,"onUpdate:modelValue":l[16]||(l[16]=e=>le.value=e),persistent:"",maximized:ae.value},{default:(0,t.w5)((()=>[(0,t.Wm)(re,null,{default:(0,t.w5)((()=>[(0,t._)("div",N,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(Ce),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id},[(0,t._)("img",{src:e.image,alt:"add-image1",class:"addImage",onClick:l=>ye(e.url)},null,8,O),(0,t.wy)((0,t._)("div",G,[(0,t.wy)((0,t._)("div",{class:"ads_price text-h6"}," R "+(0,i.zw)(e.price),513),[[s.F8,e.price>0]]),(0,t.wy)((0,t._)("div",{class:"text-subtitle1",innerHTML:e.description},null,8,R),[[s.F8,"null"!==e.description]])],512),[[s.F8,e.price>0||"null"!==e.name]]),(0,t.wy)((0,t.Wm)(c,{color:"grey-4",size:"10px",class:"bottomLine"},null,512),[[s.F8,(0,n.SU)(Ce).length]])])))),128))]),(0,t._)("div",$,[(0,t.wy)((0,t.Wm)(o,{"no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"Home",icon:"arrow_back"},null,512),[[be]]),(0,t.Wm)(o,{"icon-right":"arrow_forward","no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"My Manager",onClick:l[15]||(l[15]=e=>Ue("send_reading"))})])])),_:1})])),_:1},8,["modelValue","maximized"]),(0,t.Wm)(me,{modelValue:ee.value,"onUpdate:modelValue":l[17]||(l[17]=e=>ee.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(re,{style:{"min-width":"280px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[J,X])),_:1}),(0,t.Wm)(oe,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(o,{label:"Cancel",dense:"","no-caps":""},null,512),[[be]]),(0,t.Wm)(o,{label:"Logout",dense:"","no-caps":"",onClick:xe},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var le=a(1639),ae=a(9885),te=a(8879),ie=a(990),ne=a(926),se=a(3246),oe=a(490),de=a(1233),ce=a(3115),ue=a(8479),re=a(651),me=a(7052),pe=a(1694),ve=a(1487),we=a(2074),ge=a(4458),_e=a(3190),ke=a(1821),fe=a(6611),ye=a(1357),he=a(2146),We=a(9984),Ce=a.n(We);const xe=(0,le.Z)(ee,[["__scopeId","data-v-77c6be16"]]),Ue=xe;Ce()(ee,"components",{QPage:ae.Z,QBtn:te.Z,QBadge:ie.Z,QSeparator:ne.Z,QList:se.Z,QItem:oe.Z,QItemSection:de.Z,QItemLabel:ce.Z,QBtnDropdown:ue.Z,QExpansionItem:re.Z,QCarousel:me.Z,QCarouselSlide:pe.Z,QImg:ve.Z,QDialog:we.Z,QCard:ge.Z,QCardSection:_e.Z,QCardActions:ke.Z,QInput:fe.Z,QAvatar:ye.Z}),Ce()(ee,"directives",{ClosePopup:he.Z})},7009:(e,l,a)=>{e.exports=a.p+"img/MyCity.3cdf977c.png"}}]);