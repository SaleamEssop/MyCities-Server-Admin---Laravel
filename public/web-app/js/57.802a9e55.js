(globalThis["webpackChunkcom_smart_meter_reading"]=globalThis["webpackChunkcom_smart_meter_reading"]||[]).push([[57],{2057:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>Ze});a(8964);var t=a(9835),i=a(6970),n=a(499),o=a(1957),s=a(7009),d=a.n(s),c=a(9302),u=a(8339),r=a(6144),m=a(7047),v=a(5157),p=a(6190),g=a(4170),w=a(8083);const f=e=>((0,t.dD)("data-v-388c8e96"),e=e(),(0,t.Cn)(),e),_={class:"container"},k={class:"header"},y={class:"header-top-container d-flex align-items-center"},h={class:"header-left-top"},W=f((()=>(0,t._)("div",{class:"logo-container"},[(0,t._)("img",{class:"q-px-lg titleIcon",src:d()})],-1))),b={class:"text-center"},x={class:"menu_main"},C={class:"text-center"},U={class:"sidebar-menu-wrapper"},H={class:"sidebar-top-header"},S={class:"username"},q={class:"text-center",style:{display:"none"}},D={class:"text-center"},V={class:"text-center",style:{display:"none"}},Z=f((()=>(0,t._)("div",null,null,-1))),L={class:"ads"},Q={key:0,class:"adv-item"},z=["src"],F={class:"add_description_scroll"},I=["innerHTML"],A={key:1},M={key:0,class:"adv-item"},T=["src"],Y={class:"add_description_scroll"},B=["innerHTML"],j={key:0},K=f((()=>(0,t._)("div",{class:"text-h6 text-center"},"Get Latest Notification",-1))),P={class:"q-mt-lg"},E={class:"dueMessage"},N={class:"row no-wrap"},O={class:"col text-subtitle1 q-py-sm"},G={class:"col-auto markAsread q-pl-lg"},R={key:1,class:"text-h6 text-center"},$=f((()=>(0,t._)("div",{class:"text-h6 text-center"}," Enter the number you want to Whatsapp ",-1))),J={class:"q-mt-lg"},X={class:"ads dialogAds"},ee=["src","onClick"],le={class:"add_description_scroll"},ae=["innerHTML"],te={class:"btnLightAndWater"},ie=f((()=>(0,t._)("span",{class:"text-h6"},"Logout",-1))),ne=f((()=>(0,t._)("div",{class:"q-mt-sm"},"Are you sure you want to Logout?",-1))),oe={__name:"IndexPage",setup(e){const l=(0,u.tv)(),a=(0,r.L)(),s=(0,m.H)(),d=(0,n.iH)(!1),f=(0,n.iH)(!1),oe=((0,n.iH)(!1),(0,n.iH)(!1)),se=(0,n.iH)(!1),de=(0,n.iH)(!0),ce=(0,n.iH)(""),ue=(0,p.c)();let re=(0,n.iH)(!1),me=((0,n.iH)(!1),(0,n.iH)(0));const ve=(0,v.c)(),pe=(0,t.Fl)((()=>ve.getAlarms)),ge=a.getUser,we=(0,t.Fl)((()=>{var e;let l=!1;return null===(e=ue.accounts[0])||void 0===e||e.defaultFixedCost.map((e=>{var a;if("Enter Your Billing Date"===(null===(a=e.fixed_cost)||void 0===a?void 0:a.title)){const a=g.ZP.formatDate(new Date,"DD");e.value-7<=a&&a<=e.value-5&&(l=!0)}})),l})),fe=[{network:"email",name:"Email",icon:"far fah fa-lg fa-envelope",color:"grey-10"},{network:"facebook",name:"Facebook",icon:"fab fah fa-lg fa-facebook-f",color:"grey-10"},{network:"linkedin",name:"LinkedIn",icon:"fab fah fa-lg fa-linkedin",color:"grey-10"},{network:"messenger",name:"Messenger",icon:"fab fah fa-lg fa-facebook-messenger",color:"grey-10"},{network:"sms",name:"SMS",icon:"far fah fa-lg fa-comment-dots",color:"grey-10"},{network:"twitter",name:"Twitter",icon:"fab fah fa-lg fa-twitter",color:"grey-10"},{network:"whatsapp",name:"Whatsappnvm ",icon:"fab fah fa-lg fa-whatsapp",color:"grey-10"}],_e=(0,n.iH)(null),ke=((0,n.iH)(!0),(0,c.Z)()),ye=((0,n.iH)(""),(0,n.iH)("")),he=(0,n.iH)(null),We=(0,t.Fl)((()=>s.getMenu)),be=e=>{me.value=e},xe=e=>{window.open(`https://api.whatsapp.com/send?phone=+27${e}&text=Hello`),ce.value=""},Ce=()=>{window.open("http://167.172.65.248")},Ue=e=>{let l=pe.value.findIndex((({id:e})=>e==e));e>-1&&pe.value.splice(l,1)},He=e=>"www"===e?void 0:(e.match(/^https?:\/\//i)||(e="http://"+e),window.open(e,"_blank")),Se=e=>{var l;const a=We.value.find((l=>l.id===e));_e.value=null===(l=a.ads[0])||void 0===l?void 0:l.id,he.value=a.ads},qe=async e=>{if(We.value&&We.value.length){var l;"Home"===e&&(e="Home");let a=We.value.find((l=>l["name"]===e));_e.value=null===(l=a.ads[0])||void 0===l?void 0:l.id,he.value=a.ads}else(0,w.updateAllData)(),setTimeout((()=>{var l;"Home"===e&&(e="Home");let a=We.value.find((l=>l["name"]===e));_e.value=null===(l=a.ads[0])||void 0===l?void 0:l.id,he.value=a.ads}),2e3)};qe("Home");const De=(0,t.Fl)((()=>{if(console.log(De),null!==he.value)return he.value;{let e=We.value.filter((e=>"Home"===e["name"]));return e.findIndex((({ads:e})=>{var l;_e.value=null===(l=e[0])||void 0===l?void 0:l.id})),[]}}));console.log(De);const Ve=()=>{setTimeout((()=>{a.signOut(),l.push("/auth/login").then((()=>{ke.notify({message:"Signed out"})})).catch((e=>console.log("error",e)))}),1e3)};(0,n.iH)([{title:"AppartmentMeter 409",icon:"water",type:{title:"Water",id:1}},{title:"AppartmentMeter 410",icon:"water",type:{title:"Water",id:1}}]);function Ze(e){l.push({name:e})}return(e,l)=>{const a=(0,t.up)("q-badge"),s=(0,t.up)("q-btn"),c=(0,t.up)("q-separator"),u=(0,t.up)("q-item-label"),r=(0,t.up)("q-item-section"),m=(0,t.up)("q-item"),v=(0,t.up)("q-list"),p=(0,t.up)("q-btn-dropdown"),g=(0,t.up)("q-icon"),w=(0,t.up)("ShareNetwork"),ue=(0,t.up)("q-page"),ve=(0,t.up)("q-card-section"),_e=(0,t.up)("q-card-actions"),ke=(0,t.up)("q-card"),Le=(0,t.up)("q-dialog"),Qe=(0,t.up)("q-input"),ze=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(ue,null,{default:(0,t.w5)((()=>{var f,j,K,P,E,N,O,G,R;return[(0,t._)("div",_,[(0,t._)("div",k,[(0,t._)("div",y,[(0,t._)("div",h,[W,(0,t._)("div",b,[(0,t.Wm)(s,{onClick:l[0]||(l[0]=e=>d.value=!0),flat:"",icon:"fa-solid fa-bell",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{floating:"",color:"red",rounded:"",style:{"margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)((0,n.SU)(we)?(0,n.SU)(pe).length+1:(0,n.SU)(pe).length),1)])),_:1})])),_:1})])]),(0,t._)("span",{style:{"font-weight":"700",cursor:"pointer"},onClick:l[1]||(l[1]=e=>oe.value=!0)},"Logout")]),(0,t.Wm)(c,{color:"grey q-mt-sm",size:"2px"}),(0,t._)("div",x,[(0,t._)("div",C,[(0,t.Wm)(s,{onClick:l[2]||(l[2]=e=>(0,n.dq)(re)?re.value=!(0,n.SU)(re):re=!(0,n.SU)(re)),icon:"menu",flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn"}),(0,t._)("div",{class:(0,i.C_)([{open:(0,n.SU)(re)},"sidebar-fullscreen text-left"])},[(0,t._)("div",{class:"overlay",onClick:l[3]||(l[3]=e=>(0,n.dq)(re)?re.value=!1:re=!1)}),(0,t._)("div",U,[(0,t._)("div",H,[(0,t._)("span",S,(0,i.zw)(null===(f=(0,n.SU)(ge))||void 0===f?void 0:f.name),1),(0,t.Wm)(s,{icon:"close",onClick:l[4]||(l[4]=e=>(0,n.dq)(re)?re.value=!1:re=!1)})]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(We),(a=>((0,t.wg)(),(0,t.iD)(t.HY,{key:a.id},[a.ads&&a.ads.length?((0,t.wg)(),(0,t.j4)(v,{key:0},{default:(0,t.w5)((()=>[a.childs.length>0?(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{key:0,clickable:"",onClick:e.onChildItemClick,class:(0,i.C_)(a.childs.length>0?"submenu":"")},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:(0,i.C_)({active:a.id==(0,n.SU)(me)}),onClick:e=>be(a.id),style:{"font-size":"1.2rem","font-weight":"bold"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(null===a||void 0===a?void 0:a.name),1)])),_:2},1032,["class","onClick"]),(0,t._)("div",{class:(0,i.C_)(["sub-menu-items",{active:a.id===(0,n.SU)(me)}])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.childs,(e=>((0,t.wg)(),(0,t.j4)(v,{key:e.id},{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:ye.value,"onUpdate:modelValue":l[5]||(l[5]=e=>ye.value=e),onClick:l=>{Se(e.id),(0,n.dq)(re)?re.value=!(0,n.SU)(re):re=!(0,n.SU)(re)}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))],2)])),_:2},1024)])),_:2},1032,["onClick","class"])),[[o.F8,"LightsAndWater"!==(null===a||void 0===a?void 0:a.name)],[ze]]):(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{key:1,clickable:""},{default:(0,t.w5)((()=>[null==a.parent_id?((0,t.wg)(),(0,t.j4)(r,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:ye.value,"onUpdate:modelValue":l[6]||(l[6]=e=>ye.value=e),class:(0,i.C_)({active:a.id===(0,n.SU)(me)}),onClick:e=>{Se(a.id),(0,n.dq)(re)?re.value=!(0,n.SU)(re):re=!(0,n.SU)(re),be(a.id)},style:{"font-size":"1.2rem","font-weight":"bold"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(null===a||void 0===a?void 0:a.name),1)])),_:2},1032,["modelValue","class","onClick"])])),_:2},1024)):(0,t.kq)("",!0)])),_:2},1024)),[[o.F8,"LightsAndWater"!==(null===a||void 0===a?void 0:a.name)],[ze]])])),_:2},1024)):(0,t.kq)("",!0)],64)))),128))])],2)]),(0,t._)("div",q,[(0,t.Wm)(p,{flat:"",class:"col-xs-6 col-sm-6 q-my-xs adsBtn",icon:"menu"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(We),(e=>((0,t.wg)(),(0,t.j4)(v,{key:e.id},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:ye.value,"onUpdate:modelValue":l[7]||(l[7]=e=>ye.value=e),onClick:l=>Se(e.id)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["modelValue","onClick"])])),_:2},1024)])),_:2},1024)),[[o.F8,"LightsAndWater"!==e.name],[ze]])])),_:2},1024)))),128))])),_:1})]),(0,t._)("div",D,[(0,t.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Home",onClick:l[8]||(l[8]=e=>qe("Home"))}),(0,t.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green",rounded:"","no-caps":"",label:"Lights And Water",onClick:l[9]||(l[9]=e=>(qe("LightsAndWater"),se.value=!0))})]),(0,t._)("div",V,[(0,t.Wm)(s,{class:"col-xs-6 col-sm-6 q-my-sm btn-light-green","no-caps":"",rounded:"",label:"FoodBasket",onClick:l[10]||(l[10]=e=>Ce())})])]),(0,t.Wm)(c,{color:"grey",size:"2px"})]),Z,(0,t.Wm)(p,{color:"primary",icon:"share",fab:"",style:{position:"absolute",bottom:"30px",right:"30px","z-index":"1"}},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(fe,((e,l)=>(0,t.Wm)(m,{clickable:"",key:l},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{network:e.network,url:"https://www.mycities.co.za",title:"Mycities",description:"I am sharing this fantastic Web app I found which makes managing your water and lights so easy. You just have to try it.",hashtags:"mycities.co.za"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{size:"md",name:e.icon,color:e.color},null,8,["name","color"])])),_:2},1032,["network"])])),_:2},1024))),64))])),_:1})])),_:1}),(0,t._)("div",L,[(0,t._)("div",null,[null!==(j=(0,n.SU)(De))&&void 0!==j&&j.id?((0,t.wg)(),(0,t.iD)("div",Q,[(0,n.SU)(De).image?((0,t.wg)(),(0,t.iD)("img",{key:0,src:(0,n.SU)(De).image,class:"addImage",onClick:l[11]||(l[11]=e=>He((0,n.SU)(De).url))},null,8,z)):(0,t.kq)("",!0),(0,t.wy)((0,t._)("div",F,[(0,t.wy)((0,t._)("div",{class:"text-subtitle1",innerHTML:(0,n.SU)(De).description},null,8,I),[[o.F8,"null"!==(0,n.SU)(De).description]])],512),[[o.F8,(0,n.SU)(De).price>0||"null"!==(0,n.SU)(De).name]])])):((0,t.wg)(),(0,t.iD)("div",A,[he.value&&null!==(K=he.value[0])&&void 0!==K&&K.id?((0,t.wg)(),(0,t.iD)("div",M,[null!==(P=he.value[0])&&void 0!==P&&P.image?((0,t.wg)(),(0,t.iD)("img",{key:0,src:null===(E=he.value[0])||void 0===E?void 0:E.image,class:"addImage",onClick:l[12]||(l[12]=e=>{var l;return He(null===(l=he.value[0])||void 0===l?void 0:l.url)})},null,8,T)):(0,t.kq)("",!0),(0,t.wy)((0,t._)("div",Y,[(0,t.wy)((0,t._)("div",{class:"text-subtitle1",innerHTML:null===(N=he.value[0])||void 0===N?void 0:N.description},null,8,B),[[o.F8,"null"!==(null===(O=he.value[0])||void 0===O?void 0:O.description)]])],512),[[o.F8,(null===(G=he.value[0])||void 0===G?void 0:G.price)>0||"null"!==(null===(R=he.value[0])||void 0===R?void 0:R.name)]])])):(0,t.kq)("",!0)]))])])])]})),_:1}),(0,t.Wm)(Le,{modelValue:d.value,"onUpdate:modelValue":l[13]||(l[13]=e=>d.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(ke,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(ve,{style:{"min-width":"290px"}},{default:(0,t.w5)((()=>[(0,n.SU)(pe).length||(0,n.SU)(we)?((0,t.wg)(),(0,t.iD)("div",j,[K,(0,t._)("div",P,[(0,t.wy)((0,t._)("div",E,' "Your scheduled meter reading is due. Please read and submit." ',512),[[o.F8,(0,n.SU)(we)]]),(0,t.wy)((0,t.Wm)(c,{color:"grey"},null,512),[[o.F8,(0,n.SU)(we)]]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(pe),(e=>((0,t.wg)(),(0,t.iD)("div",{class:"",key:e.id},[(0,t._)("div",N,[(0,t._)("div",O,(0,i.zw)(e.message),1),(0,t._)("div",G,[(0,t.Wm)(s,{flat:"",class:"adsBtn",icon:"close",onClick:l=>Ue(e.id)},null,8,["onClick"])])]),(0,t.Wm)(c,{color:"grey"})])))),128))])])):((0,t.wg)(),(0,t.iD)("div",R,"No Latest Notification"))])),_:1}),(0,t.Wm)(_e,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(s,{dense:"",label:"Done"},null,512),[[ze]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(Le,{modelValue:f.value,"onUpdate:modelValue":l[16]||(l[16]=e=>f.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(ke,{class:"modalborder"},{default:(0,t.w5)((()=>[(0,t.Wm)(ve,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[$,(0,t._)("div",J,[(0,t.Wm)(Qe,{inputmode:"numeric",color:"black",class:"q-mx-lg",mask:"### ### ####","fill-mask":"",modelValue:ce.value,"onUpdate:modelValue":l[14]||(l[14]=e=>ce.value=e),"input-style":{fontSize:"24px",textAlign:"center"}},null,8,["modelValue"])])])])),_:1}),(0,t.Wm)(_e,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(s,{flat:"",label:"Close","no-caps":""},null,512),[[ze]]),(0,t.wy)((0,t.Wm)(s,{flat:"",label:"Open WhatsApp",onClick:l[15]||(l[15]=e=>xe(ce.value)),"no-caps":""},null,512),[[ze]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(Le,{modelValue:se.value,"onUpdate:modelValue":l[18]||(l[18]=e=>se.value=e),persistent:"",maximized:de.value},{default:(0,t.w5)((()=>[(0,t.Wm)(ke,null,{default:(0,t.w5)((()=>[(0,t._)("div",X,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(De),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id},[(0,t._)("img",{src:e.image,alt:"add-image1",class:"addImage",onClick:l=>He(e.url)},null,8,ee),(0,t.wy)((0,t._)("div",le,[(0,t.wy)((0,t._)("div",{class:"ads_price text-h6"}," R "+(0,i.zw)(e.price),513),[[o.F8,e.price>0]]),(0,t.wy)((0,t._)("div",{class:"text-subtitle1",innerHTML:e.description},null,8,ae),[[o.F8,"null"!==e.description]])],512),[[o.F8,e.price>0||"null"!==e.name]]),(0,t.wy)((0,t.Wm)(c,{color:"grey-4",size:"10px",class:"bottomLine"},null,512),[[o.F8,(0,n.SU)(De).length]])])))),128))]),(0,t._)("div",te,[(0,t.wy)((0,t.Wm)(s,{"no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"Home",icon:"arrow_back"},null,512),[[ze]]),(0,t.Wm)(s,{"icon-right":"arrow_forward","no-caps":"",color:"primary",rounded:"",class:"text-white fit-content",label:"My Manager",onClick:l[17]||(l[17]=e=>Ze("send_reading"))})])])),_:1})])),_:1},8,["modelValue","maximized"]),(0,t.Wm)(Le,{modelValue:oe.value,"onUpdate:modelValue":l[19]||(l[19]=e=>oe.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(ke,{style:{"min-width":"280px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ve,null,{default:(0,t.w5)((()=>[ie,ne])),_:1}),(0,t.Wm)(_e,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(s,{label:"Cancel",dense:"","no-caps":""},null,512),[[ze]]),(0,t.Wm)(s,{label:"Logout",dense:"","no-caps":"",onClick:Ve})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var se=a(1639),de=a(9885),ce=a(8879),ue=a(990),re=a(926),me=a(3246),ve=a(490),pe=a(1233),ge=a(3115),we=a(8479),fe=a(651),_e=a(2857),ke=a(7052),ye=a(1694),he=a(1487),We=a(3706),be=a(4458),xe=a(3190),Ce=a(1821),Ue=a(6611),He=a(1357),Se=a(2146),qe=a(9984),De=a.n(qe);const Ve=(0,se.Z)(oe,[["__scopeId","data-v-388c8e96"]]),Ze=Ve;De()(oe,"components",{QPage:de.Z,QBtn:ce.Z,QBadge:ue.Z,QSeparator:re.Z,QList:me.Z,QItem:ve.Z,QItemSection:pe.Z,QItemLabel:ge.Z,QBtnDropdown:we.Z,QExpansionItem:fe.Z,QIcon:_e.Z,QCarousel:ke.Z,QCarouselSlide:ye.Z,QImg:he.Z,QDialog:We.Z,QCard:be.Z,QCardSection:xe.Z,QCardActions:Ce.Z,QInput:Ue.Z,QAvatar:He.Z}),De()(oe,"directives",{ClosePopup:Se.Z})},7009:(e,l,a)=>{e.exports=a.p+"img/MyCity.a35cdb03.png"}}]);